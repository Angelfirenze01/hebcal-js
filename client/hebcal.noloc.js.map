{
  "version": 3,
  "file": "generated.js",
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "cities.js",
    "client/hebcal.noloc.src.js",
    "common.js",
    "dafyomi.js",
    "greg.js",
    "hdate.js",
    "hebcal.js",
    "holidays.js",
    "node_modules/suncalc/suncalc.js",
    "sedra.js",
    "node_modules/browserify/node_modules/events/events.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACj/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "/*\n\tHebcal - A Jewish Calendar Generator\n\tCopyright (C) 1994-2004  Danny Sadinoff\n\tPortions Copyright (c) 2002 Michael J. Radwin. All Rights Reserved.\n\n\thttps://github.com/hebcal/hebcal-js\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tDanny Sadinoff can be reached at \n\tdanny@sadinoff.com\n\n\tMichael Radwin has made significant contributions as a result of\n\tmaintaining hebcal.com.\n\n\tThe JavaScript code was completely rewritten in 2014 by Eyal Schachter\n */\n\n// name, lat, long, Israel\nvar cities = {\n\t\"Ashdod\": [ 31.8, 34.633, true ],\n\t\"Atlanta\": [ 33.75, -84.383, false ],\n\t\"Austin\": [ 30.266, -97.75, false ],\n\t\"Baghdad\": [ 33.233, 44.366, false ],\n\t\"Beer Sheva\": [ 31.25, 34.783, true ],\n\t\"Berlin\": [ 52.516, 13.4, false ],\n\t\"Baltimore\": [ 39.283, -76.6, false ],\n\t\"Bogota\": [ 4.6, -74.083, false ],\n\t\"Boston\": [ 42.333, -71.066, false ],\n\t\"Buenos Aires\": [ -34.616, -58.4, false ],\n\t\"Buffalo\": [ 42.883, -78.866, false ],\n\t\"Chicago\": [ 41.833, -87.75, false ],\n\t\"Cincinnati\": [ 39.1, -84.516, false ],\n\t\"Cleveland\": [ 41.5, -81.683, false ],\n\t\"Dallas\": [ 32.783, -96.8, false ],\n\t\"Denver\": [ 39.733, -104.983, false ],\n\t\"Detroit\": [ 42.333, -83.033, false ],\n\t\"Eilat\": [ 29.55, 34.95, true ],\n\t\"Gibraltar\": [ 36.133, -5.35, false ],\n\t\"Haifa\": [ 32.816, 34.983, true ],\n\t\"Hawaii\": [ 19.5, -155.5, false ],\n\t\"Houston\": [ 29.766, -95.366, false ],\n\t\"Jerusalem\": [ 31.783, 35.233, true ],\n\t\"Johannesburg\": [ -26.166, 28.033, false ],\n\t\"Kiev\": [ 50.466, 30.483, false ],\n\t\"La Paz\": [ -16.5, -68.15, false ],\n\t\"Livingston\": [ 40.283, -74.3, false ],\n\t\"London\": [ 51.5, -0.166, false ],\n\t\"Los Angeles\": [ 34.066, -118.25, false ],\n\t\"Miami\": [ 25.766, -80.2, false ],\n\t\"Melbourne\": [ -37.866, 145.133, false ],\n\t\"Mexico City\": [ 19.4, -99.15, false ],\n\t\"Montreal\": [ 45.5, -73.6, false ],\n\t\"Moscow\": [ 55.75, 37.7, false ],\n\t\"New York\": [ 40.716, -74.016, false ],\n\t\"Omaha\": [ 41.266, -95.933, false ],\n\t\"Ottawa\": [ 45.7, -76.183, false ],\n\t\"Panama City\": [ 8.966, -79.533, false ],\n\t\"Paris\": [ 48.866, 2.333, false ],\n\t\"Petach Tikvah\": [ 32.083, 34.883, true ],\n\t\"Philadelphia\": [ 39.95, -75.166, false ],\n\t\"Phoenix\": [ 33.45, -112.066, false ],\n\t\"Pittsburgh\": [ 40.433, -80, false ],\n\t\"Saint Louis\": [ 38.633, -90.2, false ],\n\t\"Saint Petersburg\": [ 59.883, 30.25, false ],\n\t\"San Francisco\": [ 37.783, -122.416, false ],\n\t\"Seattle\": [ 47.6, -122.333, false ],\n\t\"Sydney\": [ -33.916, 151.283, false ],\n\t\"Tel Aviv\": [ 32.083, 34.766, true ],\n\t\"Tiberias\": [ 32.966, 35.533, true ],\n\t\"Toronto\": [ 43.633, -79.4, false ],\n\t\"Vancouver\": [ 49.266, -123.116, false ],\n\t\"White Plains\": [ 41.033, -73.75, false ],\n\t\"Washington DC\": [ 38.916, -77, false ]\n};\n\nexports.getCity = function getCity(city) {\n\tcity = city.split(/\\s+/).map(function(w,i,c){\n\t\tif (c.join(' ').toLowerCase() === 'washington dc' && i === 1) { // special case\n\t\t\treturn w.toUpperCase();\n\t\t}\n\t\treturn w[0].toUpperCase() + w.slice(1).toLowerCase();\n\t}).join(' ');\n\treturn cities[city] || [ 0, 0, false ];\n};\n\nexports.listCities = function listCities() {\n\treturn Object.keys(cities);\n};\n\nexports.addCity = function addCity(city, info) {\n\tif (!Array.isArray(info)) {\n\t\tthrow new TypeError('adding non-array city');\n\t}\n\tif (info.length == 5) {\n\t\tvar i = info.slice();\n\t\tinfo = [];\n\t\tinfo[0] = (i[0] * 60 + i[1]) / 60;\n\t\tinfo[1] = (i[2] * 60 + i[3]) / 60;\n\t\tinfo[2] = i[4];\n\t}\n\tif (info.length != 3) {\n\t\tthrow new TypeError('length of city array is not 3');\n\t}\n\tcity = city.split(/\\s+/).map(function(w){return w[0].toUpperCase() + w.slice(1).toLowerCase()}).join(' ');\n\tcities[city] = info;\n};\n\nexports.getLocation = function getLocation(cityInfo) {\n\treturn {\n\t\tlat: cityInfo[0],\n\t\tlong: cityInfo[1]\n\t};\n};\n\nexports.nearest = function nearest(lat, lon) {\n\tif (Array.isArray(lat)) {\n\t\tlat = (lat[0] * 60 + lat[1]) / 60;\n\t}\n\tif (Array.isArray(lon)) {\n\t\tlon = (lon[0] * 60 + lon[1]) / 60;\n\t}\n\tif (typeof lat != 'number') {\n\t\tthrow new TypeError('incorrect lat type passed to nearest()');\n\t}\n\tif (typeof lon != 'number') {\n\t\tthrow new TypeError('incorrect long type passed to nearest()');\n\t}\n\n\treturn exports.listCities().map(function(city){\n\t\tvar i = exports.getLocation(exports.getCity(city));\n\t\treturn {\n\t\t\tname: city,\n\t\t\tdist: Math.sqrt( Math.pow(Math.abs(i.lat - lat), 2) + Math.pow(Math.abs(i.long - lon), 2) )\n\t\t};\n\t}).reduce(function(close,city){\n\t\treturn close.dist < city.dist ? close : city;\n\t}).name;\n};",
    "/*\n\tHebcal - A Jewish Calendar Generator\n\tCopyright (C) 1994-2004  Danny Sadinoff\n\tPortions Copyright (c) 2002 Michael J. Radwin. All Rights Reserved.\n\n\thttps://github.com/hebcal/hebcal-js\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tDanny Sadinoff can be reached at \n\tdanny@sadinoff.com\n\n\tMichael Radwin has made significant contributions as a result of\n\tmaintaining hebcal.com.\n\n\tThe JavaScript code was completely rewritten in 2014 by Eyal Schachter\n */\nwindow.Hebcal = require('..');\n\nvar finished = false, warn = (typeof console != 'undefined' && (console.warn || console.log)) || function(){};\n\nHebcal.events.on('newListener', function(e){\n\tif (e === 'ready' && !finished && Hebcal.ready) {\n\t\tfinished = Hebcal.events.emit('ready');\n\t}\n});\n\nObject.defineProperty(Hebcal, 'onready', {\n\tconfigurable: true,\n\n\tget: function() {\n\t\twarn('Getting deprecated property Hebcal.onready');\n\t\treturn Hebcal.events.listeners('ready')[0];\n\t},\n\tset: function(func) {\n\t\twarn('Setting deprecated property Hebcal.onready; use Hebcal.events.on(\\'ready\\', func) instead');\n\t\tHebcal.events.on('ready', func);\n\t}\n});\n\nHebcal.ready = true;\nfinished = Hebcal.events.emit('ready');",
    "/*\n\tHebcal - A Jewish Calendar Generator\n\tCopyright (C) 1994-2004  Danny Sadinoff\n\tPortions Copyright (c) 2002 Michael J. Radwin. All Rights Reserved.\n\n\thttps://github.com/hebcal/hebcal-js\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tDanny Sadinoff can be reached at \n\tdanny@sadinoff.com\n\n\tMichael Radwin has made significant contributions as a result of\n\tmaintaining hebcal.com.\n\n\tThe JavaScript code was completely rewritten in 2014 by Eyal Schachter\n */\nvar months = exports.months = {\n\tNISAN   : 1,\n\tIYYAR   : 2,\n\tSIVAN   : 3,\n\tTAMUZ   : 4,\n\tAV      : 5,\n\tELUL    : 6,\n\tTISHREI : 7,\n\tCHESHVAN: 8,\n\tKISLEV  : 9,\n\tTEVET   : 10,\n\tSHVAT   : 11,\n\tADAR_I  : 12,\n\tADAR_II : 13\n};\n\nexports.monthNames = [\n\t[\n\t\t[\"\", 0, \"\"],\n\t\t[\"Nisan\", 0, \"ניסן\"],\n\t\t[\"Iyyar\", 0, \"אייר\"],\n\t\t[\"Sivan\", 0, \"סיון\"],\n\t\t[\"Tamuz\", 0, \"תמוז\"],\n\t\t[\"Av\", 0, \"אב\"],\n\t\t[\"Elul\", 0, \"אלול\"],\n\t\t[\"Tishrei\", 0, \"תשרי\"],\n\t\t[\"Cheshvan\", 0, \"חשון\"],\n\t\t[\"Kislev\", 0, \"כסלו\"],\n\t\t[\"Tevet\", 0, \"טבת\"],\n\t\t[\"Sh'vat\", 0, \"שבט\"],\n\t\t[\"Adar\", 0, \"אדר\"],\n\t\t[\"Nisan\", 0, \"ניסן\"]\n\t], [\n\t\t[\"\", 0, \"\"],\n\t\t[\"Nisan\", 0, \"ניסן\"],\n\t\t[\"Iyyar\", 0, \"אייר\"],\n\t\t[\"Sivan\", 0, \"סיון\"],\n\t\t[\"Tamuz\", 0, \"תמוז\"],\n\t\t[\"Av\", 0, \"אב\"],\n\t\t[\"Elul\", 0, \"אלול\"],\n\t\t[\"Tishrei\", 0, \"תשרי\"],\n\t\t[\"Cheshvan\", 0, \"חשון\"],\n\t\t[\"Kislev\", 0, \"כסלו\"],\n\t\t[\"Tevet\", 0, \"טבת\"],\n\t\t[\"Sh'vat\", 0, \"שבט\"],\n\t\t[\"Adar I\", 0, \"אדר א'\"],\n\t\t[\"Adar II\", 0, \"אדר ב'\"],\n\t\t[\"Nisan\", 0, \"ניסן\"]\n\t]\n];\n\nexports.days = {\n\tSUN: 0,\n\tMON: 1,\n\tTUE: 2,\n\tWED: 3,\n\tTHU: 4,\n\tFRI: 5,\n\tSAT: 6\n};\n\nexports.LANGUAGE = function LANGUAGE(str, opts){\n\treturn (opts === 'h' && str[2] ? str[2] : (opts === 'a' && str[1] ? str[1] : str[0]));\n};\n\nfunction LEAP_YR_HEB(x) {\n\treturn (1 + x * 7) % 19 < 7 ? true : false;\n}\nexports.LEAP_YR_HEB = LEAP_YR_HEB;\n\nexports.MONTHS_IN_HEB = function MONTHS_IN_HEB(x) {\n\treturn 12 + LEAP_YR_HEB(x); // boolean is cast to 1 or 0\n};\n\nexports.max_days_in_heb_month = function max_days_in_heb_month(month, year) {\n\treturn 30 - (month == months.IYYAR ||\n\tmonth == months.TAMUZ || \n\tmonth == months.ELUL ||\n\tmonth == months.TEVET || \n\tmonth == months.ADAR_II ||\n\t(month == months.ADAR_I && !LEAP_YR_HEB(year)) ||\n\t(month == months.CHESHVAN && !long_cheshvan(year)) ||\n\t(month == months.KISLEV && short_kislev(year)));\n};\n\n\n/* Days from sunday prior to start of hebrew calendar to mean\n   conjunction of tishrei in hebrew YEAR \n */\nfunction hebrew_elapsed_days(hYear){\n\t// borrowed from original JS\n\tvar yearl = hYear;\n\tvar m_elapsed = 235 * Math.floor((yearl - 1) / 19) +\n\t\t12 * ((yearl - 1) % 19) +\n\t\tMath.floor(((((yearl - 1) % 19) * 7) + 1) / 19);\n\t\n\tvar p_elapsed = 204 + (793 * (m_elapsed % 1080));\n\t\n\tvar h_elapsed = 5 + (12 * m_elapsed) +\n\t\t793 * Math.floor(m_elapsed / 1080) +\n\t\tMath.floor(p_elapsed / 1080);\n\t\n\tvar parts = (p_elapsed % 1080) + 1080 * (h_elapsed % 24);\n\t\n\tvar day = 1 + 29 * m_elapsed + Math.floor(h_elapsed / 24);\n\tvar alt_day;\n\n\tif ((parts >= 19440) ||\n\t\t((2 == (day % 7)) && (parts >= 9924) && !(LEAP_YR_HEB (hYear))) ||\n\t\t((1 == (day % 7)) && (parts >= 16789) && LEAP_YR_HEB (hYear - 1)))\n\t\talt_day = day + 1;\n\telse\n\t\talt_day = day;\n\t\n\tif ((alt_day % 7) === 0 ||\n\t\t(alt_day % 7) === 3 ||\n\t\t(alt_day % 7) === 5)\n\t\treturn alt_day + 1;\n\telse\n\t\treturn alt_day;\n\n}\nexports.hebrew_elapsed_days = hebrew_elapsed_days;\n\n/* Number of days in the hebrew YEAR */\nfunction days_in_heb_year(year)\n{\n\treturn hebrew_elapsed_days(year + 1) - hebrew_elapsed_days(year);\n}\nexports.days_in_heb_year = days_in_heb_year;\n\n/* true if Cheshvan is long in hebrew YEAR */\nfunction long_cheshvan(year) {\n\treturn (days_in_heb_year(year) % 10) == 5;\n}\nexports.long_cheshvan = long_cheshvan;\n\n/* true if Kislev is short in hebrew YEAR */\nfunction short_kislev(year) {\n\treturn (days_in_heb_year(year) % 10) == 3;\n}\nexports.short_kislev = short_kislev;\n\nexports.lookup_hebrew_month = function lookup_hebrew_month(c) {\n  /* the Hebrew months are unique to their second letter\n\t N         nisan  (november?)\n\t I         iyyar\n\t E        Elul\n\t C        Cheshvan\n\t K        Kislev\n\t 1        1Adar\n\t 2        2Adar   \n\t Si Sh     sivan, Shvat\n\t Ta Ti Te Tamuz, Tishrei, Tevet\n\t Av Ad    Av, Adar\n\n\t אב אד אי אל   אב אדר אייר אלול\n\t ח            חשון\n\t ט            טבת\n\t כ            כסלב\n\t נ            ניסן\n\t ס            סיון\n\t ש            שבט\n\t תמ תש        תמוז תשרי\n   */\n\tswitch (c.toLowerCase()[0]) {\n\t\tcase 'n':\n\t\tcase 'נ':\n\t\t\treturn (c.toLowerCase()[1] == 'o') ?\t/* this catches \"november\" */\n\t\t\t\t0\n\t\t\t\t: months.NISAN;\n\t\tcase 'i':\n\t\t\treturn months.IYYAR;\n\t\tcase 'e':\n\t\t\treturn months.ELUL;\n\t\tcase 'c':\n\t\tcase 'ח':\n\t\t\treturn months.CHESHVAN;\n\t\tcase 'k':\n\t\tcase 'כ':\n\t\t\treturn months.KISLEV;\n\t\tcase 's':\n\t\t\tswitch (c.toLowerCase()[1]) {\n\t\t\t\tcase 'i':\n\t\t\t\t\treturn months.SIVAN;\n\t\t\t\tcase 'h':\n\t\t\t\t\treturn months.SHVAT;\n\t\t\t\tdefault:\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\tcase 't':\n\t\t\tswitch (c.toLowerCase()[1]) {\n\t\t\t\tcase 'a':\n\t\t\t\t\treturn months.TAMUZ;\n\t\t\t\tcase 'i':\n\t\t\t\t\treturn months.TISHREI;\n\t\t\t\tcase 'e':\n\t\t\t\t\treturn months.TEVET;\n\t\t\t\tdefault:\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\tcase 'a':\n\t\t\tswitch (c.toLowerCase()[1]) {\n\t\t\t\tcase 'v':\n\t\t\t\t\treturn months.AV;\n\t\t\t\tcase 'd':\n\t\t\t\t\tif (c.indexOf('2') > -1 || /ii/i.test(c)) {\n\t\t\t\t\t\treturn months.ADAR_II;\n\t\t\t\t\t}\n\t\t\t\t\treturn months.ADAR_I;\t/* else assume rishon */\n\t\t\t\tdefault:\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\tcase 'ס':\n\t\t\treturn months.SIVAN;\n\t\tcase 'ש':\n\t\t\treturn months.SHVAT;\n\t\tcase 'א':\n\t\t\tswitch (c.toLowerCase()[1]) {\n\t\t\t\tcase 'ב':\n\t\t\t\t\treturn months.AV;\n\t\t\t\tcase 'ד':\n\t\t\t\t\tif (c.indexOf('1') > -1 || c.indexOf('א', 1) > 1) {\n\t\t\t\t\t\treturn months.ADAR_I;\n\t\t\t\t\t}\n\t\t\t\t\treturn months.ADAR_II;\t/* else assume sheni */\n\t\t\t\tcase 'י':\n\t\t\t\t\treturn months.IYYAR;\n\t\t\t\tcase 'ל':\n\t\t\t\t\treturn months.ELUL;\n\t\t\t\tdefault:\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\tcase 'ת':\n\t\t\tswitch (c.toLowerCase()[1]) {\n\t\t\t\tcase 'מ':\n\t\t\t\t\treturn months.TAMUZ;\n\t\t\t\tcase 'ש':\n\t\t\t\t\treturn months.TISHREI;\n\t\t\t\tdefault:\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\tdefault:\n\t\t\treturn 0;\n\t}\n};\n\n/* Note: Applying this function to d+6 gives us the DAYNAME on or after an\n * absolute day d.  Similarly, applying it to d+3 gives the DAYNAME nearest to\n * absolute date d, applying it to d-1 gives the DAYNAME previous to absolute\n * date d, and applying it to d+7 gives the DAYNAME following absolute date d.\n\n**/\nexports.day_on_or_before = function day_on_or_before(day_of_week, absdate) {\n\treturn absdate - ((absdate - day_of_week) % 7);\n};\n\nexports.map = function map(self, fun, thisp, sameprops) {\n\t// originally written for http://github.com/Scimonster/localbrowse\n\tif (self === null || typeof fun != 'function') {\n\t\tthrow new TypeError();\n\t}\n\tvar t = Object(self);\n\tvar res = {};\n\tfor (var i in t) {\n\t\tif (t.hasOwnProperty(i)) {\n\t\t\tvar val = fun.call(thisp, t[i], i, t);\n\t\t\tif (sameprops) {\n\t\t\t\t// the new property should have the same enumerate/write/etc as the original\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(t, i);\n\t\t\t\tprops.value = val;\n\t\t\t\tObject.defineProperty(res, i, props);\n\t\t\t} else {\n\t\t\t\tres[i] = val;\n\t\t\t}\n\t\t}\n\t}\n\tif (Array.isArray(self) || typeof self == 'string') { // came as an array, return an array\n\t\tvar arr = [];\n\t\tfor (i in res) {\n\t\t\tarr[Number(i)] = res[i];\n\t\t}\n\t\tres = filter(arr, true); // for...in isn't guaranteed to give any meaningful order\n\t\tif (typeof self == 'string') {\n\t\t\tres = res.join('');\n\t\t}\n\t}\n\treturn res;\n};\n\nfunction filter(self, fun, thisp) {\n\tif (self === null) {\n\t\tthrow new TypeError('self is null');\n\t}\n\tswitch (typeof fun) {\n\t\tcase 'function':\n\t\t\tbreak; // do nothing\n\t\tcase 'string':\n\t\tcase 'number':\n\t\t\treturn self[fun]; // str/num is just the property\n\t\tcase 'boolean':\n\t\t\t// boolean shortcuts to filter only truthy/falsy values\n\t\t\tif (fun) {\n\t\t\t\tfun = function (v) {\n\t\t\t\t\treturn v;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tfun = function (v) {\n\t\t\t\t\treturn !v;\n\t\t\t\t};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'object':\n\t\t\tvar funOrig = fun; // save it\n\t\t\tif (fun instanceof RegExp) { // test the val against the regex\n\t\t\t\tfun = function (v) {\n\t\t\t\t\treturn funOrig.test(v);\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\t} else if (Array.isArray(fun)) { // keep these keys\n\t\t\t\tfun = function (v, k) {\n\t\t\t\t\treturn funOrig.indexOf(k) > -1;\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\t}\n\t\tdefault:\n\t\t\tthrow new TypeError('fun is not a supported type');\n\t}\n\tvar res = {};\n\tvar t = Object(self);\n\tfor (var i in t) {\n\t\tif (t.hasOwnProperty(i)) {\n\t\t\tvar val = t[i]; // in case fun mutates it\n\t\t\tif (fun.call(thisp, val, i, t)) {\n\t\t\t\t// define property on res in the same manner as it was originally defined\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(t, i);\n\t\t\t\tprops.value = val;\n\t\t\t\tObject.defineProperty(res, i, props);\n\t\t\t}\n\t\t}\n\t}\n\tif (Array.isArray(self) || typeof self == 'string') { // came as an array, return an array\n\t\tvar arr = [];\n\t\tfor (i in res) {\n\t\t\tarr[Number(i)] = res[i];\n\t\t}\n\t\tres = arr.filter(function (v) {\n\t\t\treturn v;\n\t\t}); // for...in isn't guaranteed to give any meaningful order\n\t\t// can't use c.filter(arr,true) here because that would infitely recurse\n\t\tif (typeof self == 'string') {\n\t\t\tres = res.join('');\n\t\t}\n\t}\n\treturn res;\n}\nexports.filter = filter;\n\nexports.gematriya = function gematriya(num, limit) {\n\tif (typeof num !== 'number' && typeof num !== 'string') {\n\t\tthrow new TypeError('non-number or string given to gematriya()');\n\t}\n\tvar str = typeof num === 'string';\n\tif (str) {\n\t\tnum = num.replace(/('|\")/g,'');\n\t}\n\tif (!str && limit && limit - num.toString().length < 0) {\n\t\tnum = num.toString().split('').reverse().slice(0, limit - num.toString().length).reverse().join('');\n\t}\n\tnum = num.toString().split('').reverse();\n\tvar letters = {\n\t\t0: '',\n\t\t1: 'א',\n\t\t2: 'ב',\n\t\t3: 'ג',\n\t\t4: 'ד',\n\t\t5: 'ה',\n\t\t6: 'ו',\n\t\t7: 'ז',\n\t\t8: 'ח',\n\t\t9: 'ט',\n\t\t10: 'י',\n\t\t20: 'כ',\n\t\t30: 'ל',\n\t\t40: 'מ',\n\t\t50: 'נ',\n\t\t60: 'ס',\n\t\t70: 'ע',\n\t\t80: 'פ',\n\t\t90: 'צ',\n\t\t100: 'ק',\n\t\t200: 'ר',\n\t\t300: 'ש',\n\t\t400: 'ת',\n\t\t500: 'תק',\n\t\t600: 'תר',\n\t\t700: 'תש',\n\t\t800: 'תת',\n\t\t900: 'תתק',\n\t\t1000: 'תתר'\n\t}, numbers = {\n\t\t'א': 1,\n\t\t'ב': 2,\n\t\t'ג': 3,\n\t\t'ד': 4,\n\t\t'ה': 5,\n\t\t'ו': 6,\n\t\t'ז': 7,\n\t\t'ח': 8,\n\t\t'ט': 9,\n\t\t'י': 10,\n\t\t'כ': 20,\n\t\t'ל': 30,\n\t\t'מ': 40,\n\t\t'נ': 50,\n\t\t'ס': 60,\n\t\t'ע': 70,\n\t\t'פ': 80,\n\t\t'צ': 90,\n\t\t'ק': 100,\n\t\t'ר': 200,\n\t\t'ש': 300,\n\t\t'ת': 400,\n\t\t'תק': 500,\n\t\t'תר': 600,\n\t\t'תש': 700,\n\t\t'תת': 800,\n\t\t'תתק': 900,\n\t\t'תתר': 1000\n\t};\n\n\tnum = num.map(function g(n,i){\n\t\tif (str) {\n\t\t\treturn numbers[n] < numbers[num[i - 1]] && numbers[n] < 100 ? numbers[n] * 1000 : numbers[n];\n\t\t} else {\n\t\t\tif (parseInt(n, 10) * Math.pow(10, i) > 1000) {\n\t\t\t\treturn g(n, i-3);\n\t\t\t}\n\t\t\treturn letters[parseInt(n, 10) * Math.pow(10, i)];\n\t\t}\n\t});\n\n\tif (str) {\n\t\treturn num.reduce(function(o,t){\n\t\t\treturn o + t;\n\t\t}, 0);\n\t} else {\n\t\tnum = num.reverse().join('').replace(/יה/g,'טו').replace(/יו/g,'טז').split('');\n\n\t\tif (num.length === 1) {\n\t\t\tnum.push(\"'\");\n\t\t} else if (num.length > 1) {\n\t\t\tnum.splice(-1, 0, '\"');\n\t\t}\n\n\t\treturn num.join('');\n\t}\n};\n\nexports.range = function range(start, end, step) {\n\tstep = step || 1;\n\tif (step < 0) {\n\t\tstep = 0 - step;\n\t}\n\n\tvar arr = [], i = start;\n\tif (start < end) {\n\t\tfor (; i <= end; i += step) {\n\t\t\tarr.push(i);\n\t\t}\n\t} else {\n\t\tfor (; i >= end; i -= step) {\n\t\t\tarr.push(i);\n\t\t}\n\t}\n\treturn arr;\n};",
    "/*\n\tHebcal - A Jewish Calendar Generator\n\tCopyright (C) 1994-2004  Danny Sadinoff\n\tPortions Copyright (c) 2002 Michael J. Radwin. All Rights Reserved.\n\n\thttps://github.com/hebcal/hebcal-js\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tDanny Sadinoff can be reached at \n\tdanny@sadinoff.com\n\n\tMichael Radwin has made significant contributions as a result of\n\tmaintaining hebcal.com.\n\n\tThe JavaScript code was completely rewritten in 2014 by Eyal Schachter\n */\nvar c = require('./common'), greg = require('./greg');\n\nvar shas = [\n\t// sname, aname, hname, blatt\n\t[ \"Berachot\",       \"Berachos\",         \"ברכות\",         64  ],\n\t[ \"Shabbat\",        \"Shabbos\",          \"שבת\",          157 ],\n\t[ \"Eruvin\",         \"Eruvin\",           \"ערובין\",         105 ],\n\t[ \"Pesachim\",       0,                  \"פסחים\",         121 ],\n\t[ \"Shekalim\",       0,                  \"שקלים\",         22  ],\n\t[ \"Yoma\",           0,                  \"יומא\",           88  ],\n\t[ \"Sukkah\",         0,                  \"סוכה\",          56  ],\n\t[ \"Beitzah\",        0,                  \"ביצה\",          40  ],\n\t[ \"Rosh Hashana\",   0,                  \"ראש השנה\",      35  ],\n\t[ \"Taanit\",         \"Taanis\",           \"תענית\",          31  ],\n\t[ \"Megillah\",       0,                  \"מגילה\",          32  ],\n\t[ \"Moed Katan\",     0,                  \"מועד קטן\",       29  ],\n\t[ \"Chagigah\",       0,                  \"חגיגה\",          27  ],\n\t[ \"Yevamot\",        \"Yevamos\",          \"יבמות\",          122 ],\n\t[ \"Ketubot\",        \"Kesubos\",          \"כתובות\",         112 ],\n\t[ \"Nedarim\",        0,                  \"נדרים\",          91  ],\n\t[ \"Nazir\",          0,                  \"נזיר\",           66  ],\n\t[ \"Sotah\",          0,                  \"סוטה\",          49  ],\n\t[ \"Gitin\",          0,                  \"גיטין\",           90  ],\n\t[ \"Kiddushin\",      0,                  \"קידושין\",         82  ],\n\t[ \"Baba Kamma\",     0,                  \"בבא קמא\",      119 ],\n\t[ \"Baba Metzia\",    0,                  \"בבא מציעא\",     119 ],\n\t[ \"Baba Batra\",     \"Baba Basra\",       \"בבא בתרא\",     176 ],\n\t[ \"Sanhedrin\",      0,                  \"סנהדרין\",        113 ],\n\t[ \"Makkot\",         \"Makkos\",           \"מכות\",          24  ],\n\t[ \"Shevuot\",        \"Shevuos\",          \"שבועות\",        49  ],\n\t[ \"Avodah Zarah\",   0,                  \"עבודה זרה\",     76  ],\n\t[ \"Horayot\",        \"Horayos\",          \"הוריות\",         14  ],\n\t[ \"Zevachim\",       0,                  \"זבכים\",         120 ],\n\t[ \"Menachot\",       \"Menachos\",         \"מנחות\",         110 ],\n\t[ \"Chullin\",        0,                  \"חולין\",          142 ],\n\t[ \"Bechorot\",       \"Bechoros\",         \"בכורות\",         61  ],\n\t[ \"Arachin\",        0,                  \"ערכין\",          34  ],\n\t[ \"Temurah\",        0,                  \"תמורה\",         34  ],\n\t[ \"Keritot\",        \"Kerisos\",          \"כריתות\",         28  ],\n\t[ \"Meilah\",         0,                  \"מעילה\",         22  ],\n\t[ \"Kinnim\",         0,                  \"כינים\",          4   ],\n\t[ \"Tamid\",          0,                  \"תמיד\",          10  ],\n\t[ \"Midot\",          \"Midos\",            \"מידות\",          4   ],\n\t[ \"Niddah\",         0,                  \"נידה\",           73  ]\n].map(function(m){\n\treturn {name: m.slice(0,3), blatt: m[3]};\n});\n\nfunction dafyomi(gregdate) {\n\tvar dafcnt = 40, cno, dno, osday, nsday, total, count, j, cday, blatt;\n\n\tif (!(gregdate instanceof Date)) {\n\t\tthrow new TypeError('non-date given to dafyomi');\n\t}\n\n\tosday = greg.greg2abs(new Date(1923, 8, 11));\n\tnsday = greg.greg2abs(new Date(1975, 5, 24));\n\tcday = greg.greg2abs(gregdate);\n\n\tif (cday < osday) { // no cycle; dy didn't start yet\n\t\treturn {name: [], blatt: 0};\n\t}\n\tif (cday >= nsday) { // \"new\" cycle\n\t\tcno = 8 + ( (cday - nsday) / 2711 );\n\t\tdno = (cday - nsday) % 2711;\n\t} else { // old cycle\n\t\tcno = 1 + ( (cday - osday) / 2702 );\n\t\tdno = (cday - osday) / 2702;\n\t}\n\n\t// Find the daf taking note that the cycle changed slightly after cycle 7.\n\n\ttotal = blatt = 0;\n\tcount = -1;\n\n\t// Fix Shekalim for old cycles\n\tif (cno <= 7) {\n\t\tshas[4].blatt = 13;\n\t} else {\n\t\tshas[4].blatt = 22;\n\t}\n\n\t// Find the daf\n\tj = 0;\n\twhile (j < dafcnt) {\n\t\tcount++;\n\t\ttotal = total + shas[j].blatt - 1;\n\t\tif (dno < total) {\n\t\t\tblatt = (shas[j].blatt + 1) - (total - dno);\n\t\t\t// fiddle with the weird ones near the end\n\t\t\tswitch (count) {\n\t\t\t\tcase 36:\n\t\t\t\t\tblatt = blatt + 21;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 37:\n\t\t\t\t\tblatt = blatt + 24;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 38:\n\t\t\t\t\tblatt = blatt + 33;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// Bailout\n\t\t\tj = 1 + dafcnt;\n\t\t}\n\t\tj++;\n\t}\n\n\treturn {name: shas[count].name, blatt: blatt};\n}\nexports.dafyomi = dafyomi;\n\nfunction dafname(daf, o) {\n\treturn c.LANGUAGE(daf.name, o) + ' ' + (o === 'h' ? c.gematriya(daf.blatt) : daf.blatt);\n}\nexports.dafname = dafname;",
    "/*\n\tHebcal - A Jewish Calendar Generator\n\tCopyright (C) 1994-2004  Danny Sadinoff\n\tPortions Copyright (c) 2002 Michael J. Radwin. All Rights Reserved.\n\n\thttps://github.com/hebcal/hebcal-js\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tDanny Sadinoff can be reached at \n\tdanny@sadinoff.com\n\n\tMichael Radwin has made significant contributions as a result of\n\tmaintaining hebcal.com.\n\n\tThe JavaScript code was completely rewritten in 2014 by Eyal Schachter\n */\nexports.monthNames = [\n\t'',\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December'\n];\n\nexports.lookupMonthNum = function lookupMonthNum(month) {\n\treturn new Date(month + ' 1').getMonth() + 1;\n};\n\nexports.monthLengths = [\n\t[0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n\t[0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n];\n\nexports.daysInMonth = function daysInMonth(month, year) { // 1 based months\n\treturn exports.monthLengths[+LEAP(year)][month];\n};\n\nexports.shortDayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\nfunction dayOfYear (date) {\n\tif (!date instanceof Date) {\n\t\tthrow new TypeError('Argument to greg.dayOfYear not a Date');\n\t}\n\tvar doy = date.getDate() + 31 * date.getMonth();\n\tif (date.getMonth() > 1) { // FEB\n\t\tdoy -= Math.floor((4 * (date.getMonth() + 1) + 23) / 10);\n\t\tif (LEAP(date.getFullYear())) {\n\t\t\tdoy++;\n\t\t}\n\t}\n\treturn doy;\n}\nexports.dayOfYear = dayOfYear;\n\nfunction LEAP (year) {\n\treturn !(year % 4) && ( !!(year % 100) || !(year % 400) );\n}\nexports.LEAP = LEAP;\n\nexports.greg2abs = function greg2abs(date) { // \"absolute date\"\n\treturn (dayOfYear(date) + // days this year\n\t\t\t365 * (date.getFullYear() - 1) + // + days in prior years\n\t\t\t( Math.floor((date.getFullYear() - 1) / 4) - // + Julian Leap years\n\t\t\tMath.floor((date.getFullYear() - 1) / 100) + // - century years\n\t\t\tMath.floor((date.getFullYear() - 1) / 400))); // + Gregorian leap years\n};\n\n\n/*\n * See the footnote on page 384 of ``Calendrical Calculations, Part II:\n * Three Historical Calendars'' by E. M. Reingold,  N. Dershowitz, and S. M.\n * Clamen, Software--Practice and Experience, Volume 23, Number 4\n * (April, 1993), pages 383-404 for an explanation.\n */\nexports.abs2greg = function abs2greg(theDate) {\n// calculations copied from original JS code\n\n\tvar d0 = theDate - 1;\n\tvar n400 = Math.floor(d0 / 146097);\n\tvar d1 =  Math.floor(d0 % 146097);\n\tvar n100 =  Math.floor(d1 / 36524);\n\tvar d2 = d1 % 36524;\n\tvar n4 =  Math.floor(d2 / 1461);\n\tvar d3 = d2 % 1461;\n\tvar n1 =  Math.floor(d3 / 365);\n\n\tvar day = ((d3 % 365) + 1);\n\tvar year = (400 * n400 + 100 * n100 + 4 * n4 + n1);\n\n\tif (4 == n100 || 4 == n1) {\n\t\treturn new Date(year, 11, 31);\n\t}\n\n\tyear++;\n\n\n\tvar d = new Date(year, 0, day); // new Date() is very smart\n\td.setFullYear(year);\n\treturn d;\n\n/*\n\tconsole.log(year)\n\tvar month = 1, mlen;\n\tconsole.log(month)\n\tconsole.log(day)\n\twhile ((mlen = exports.monthLengths[+LEAP(year)][month]) < day){\n\t\tday -= mlen;\n\t\tmonth++;\n\tconsole.log(month)\n\tconsole.log(day)\n\t}\n\tvar d = new Date(year, month-1, day);\n\td.setFullYear(year);\n\tconsole.log(d)\n\treturn d;\n*/\n};",
    "/*\n\tHebcal - A Jewish Calendar Generator\n\tCopyright (C) 1994-2004  Danny Sadinoff\n\tPortions Copyright (c) 2002 Michael J. Radwin. All Rights Reserved.\n\n\thttps://github.com/hebcal/hebcal-js\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tDanny Sadinoff can be reached at \n\tdanny@sadinoff.com\n\n\tMichael Radwin has made significant contributions as a result of\n\tmaintaining hebcal.com.\n\n\tThe JavaScript code was completely rewritten in 2014 by Eyal Schachter\n */\nvar c = require('./common'),\n\tgreg = require('./greg'),\n\tsuncalc = require('suncalc'),\n\tcities = require('./cities');\n\nsuncalc.addTime(-16.1, 'alot_hashacher', undefined);\nsuncalc.addTime(-11.5, 'misheyakir', undefined);\nsuncalc.addTime(-10.2, 'misheyakir_machmir', undefined);\nsuncalc.addTime(-8.5, undefined, 'tzeit');\n\n// for minifying optimizations\nvar prototype = 'prototype',\n\tgetFullYear = 'getFullYear',\n\tgetMonth = 'getMonth',\n\tgetDate = 'getDate',\n\tgetTime = 'getTime',\n\tabs = 'abs',\n\tTISHREI = c.months.TISHREI,\n\tMONTHS_IN_HEB = c.MONTHS_IN_HEB,\n\tmax_days_in_heb_month = c.max_days_in_heb_month,\n\tday_on_or_before = c.day_on_or_before;\n\nfunction HDate(day, month, year) {\n\tswitch (arguments.length) {\n\t\tcase 0:\n\t\t\treturn new HDate(new Date());\n\t\tcase 1:\n\t\t\tif (typeof day === 'undefined') {\n\t\t\t\treturn new HDate();\n\t\t\t} else if (day instanceof Date) {\n\t\t\t\t// we were passed a Gregorian date, so convert it\n\t\t\t\tvar d = abs2hebrew(greg.greg2abs(day));\n\t\t\t\tif (d.sunset() < day) {\n\t\t\t\t\td = d.next();\n\t\t\t\t}\n\t\t\t\treturn d;\n\t\t\t} else if (day instanceof HDate) {\n\t\t\t\tvar d = new HDate(day[getDate](), day[getMonth](), day[getFullYear]());\n\t\t\t\td.il = day.il;\n\t\t\t\td.setLocation(d.lat, d.long);\n\t\t\t\treturn d;\n\t\t\t} else if (typeof day === 'string' && /\\s/.test(day)) {\n\t\t\t\tvar s = day.split(/\\s+/);\n\t\t\t\tif (s.length === 2) {\n\t\t\t\t\treturn new HDate(s[0], s[1]);\n\t\t\t\t} else if (s.length === 3) {\n\t\t\t\t\treturn new HDate(s[0], s[1], s[2]);\n\t\t\t\t} else if (s.length === 4) { // should only be if s[1] is Adar\n\t\t\t\t\tif (/i/i.test(s[2])) { // Using I[I] syntax\n\t\t\t\t\t\ts[2] = s[2].length;\n\t\t\t\t\t} // otherwise using 1|2 syntax\n\t\t\t\t\treturn new HDate(s[0], s[1] + s[2], s[3]);\n\t\t\t\t}\n\t\t\t} else if (typeof day === 'number') { // absolute date\n\t\t\t\treturn abs2hebrew(day);\n\t\t\t}\n\t\t\tthrow new TypeError('HDate called with bad argument');\n\t\tcase 2:\n\t\t\treturn new HDate(day, month, (new HDate)[getFullYear]());\n\t\tcase 3:\n\t\t\tthis.day = 1;\n\t\t\tthis.month = 1;\n\t\t\tthis.year = typeof year === 'number' ? year :\n\t\t\t\tyear.toString().charCodeAt(0) >= 1488 && year.toString().charCodeAt(0) <= 1514 ? c.gematriya(year.toString()) : parseInt(year, 10);\n\n\t\t\tthis.setMonth(typeof month === 'number' ? month :\n\t\t\t\tmonth.charCodeAt(0) >= 1488 && month.charCodeAt(0) <= 1514 && /('|\")/.test(month) ? c.gematriya(month) :\n\t\t\t\t\tmonth.charCodeAt(0) >= 48 && month.charCodeAt(0) <= 57 /* number */ ? parseInt(month, 10) : c.lookup_hebrew_month(month));\n\t\t\tthis.setDate(typeof day === 'number' ? day :\n\t\t\t\tday.charCodeAt(0) >= 1488 && day.charCodeAt(0) <= 1514 ? c.gematriya(day) : parseInt(day, 10));\n\t\t\t\n\t\t\tfixMonth(this);\n\t\t\tfixDate(this);\n\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new TypeError('HDate called with bad arguments');\n\t}\n\n\tthis.il = false;\n\tthis.setLocation.apply(this, HDate.defaultLocation);\n\n\treturn this;\n}\n\nHDate.defaultLocation = [0, 0];\nObject.defineProperty(HDate, 'defaultCity', {\n\tenumerable: true,\n\tconfigurable: true,\n\n\tget: function() {\n\t\treturn cities.nearest(HDate.defaultLocation[0], HDate.defaultLocation[1]);\n\t},\n\tset: function(city) {\n\t\tvar loc = cities.getLocation(cities.getCity(city));\n\t\tHDate.defaultLocation = [loc.lat, loc.long];\n\t}\n});\n\nfunction fixDate(date) {\n\tif (date.day < 1) {\n\t\tif (date.month == TISHREI) {\n\t\t\tdate.year -= 1;\n\t\t}\n\t\tdate.day += max_days_in_heb_month(date.month, date.year);\n\t\tdate.month -= 1;\n\t\tfixMonth(date);\n\t\tfixDate(date);\n\t}\n\tif (date.day > max_days_in_heb_month(date.month, date.year)) {\n\t\tif (date.month == c.months.ELUL) {\n\t\t\tdate.year += 1;\n\t\t}\n\t\tdate.day -= max_days_in_heb_month(date.month, date.year);\n\t\tdate.month += 1;\n\t\tfixMonth(date);\n\t\tfixDate(date);\n\t}\n\tfixMonth(date);\n}\n\nfunction fixMonth(date) {\n\tif (date.month < 1) {\n\t\tdate.month += MONTHS_IN_HEB(date.year);\n\t\tdate.year -= 1;\n\t\tfixMonth(date);\n\t\tfixDate(date);\n\t}\n\tif (date.month > MONTHS_IN_HEB(date.year)) {\n\t\tdate.month -= MONTHS_IN_HEB(date.year);\n\t\tdate.year += 1;\n\t\tfixMonth(date);\n\t\tfixDate(date);\n\t}\n}\n\nHDate[prototype][getFullYear] = function getFullYear() {\n\treturn this.year;\n};\n\nHDate[prototype].isLeapYear = function isLeapYear() {\n\treturn c.LEAP_YR_HEB(this[getFullYear]());\n};\n\nHDate[prototype][getMonth] = function getMonth() {\n\treturn this.month;\n};\n\nHDate[prototype].getTishreiMonth = function getTishreiMonth() {\n\treturn (this[getMonth]() + MONTHS_IN_HEB(this[getFullYear]()) - 6) % MONTHS_IN_HEB(this[getFullYear]());\n};\n\nHDate[prototype].daysInMonth = function daysInMonth() {\n\treturn max_days_in_heb_month(this[getMonth](), this[getFullYear]());\n};\n\nHDate[prototype][getDate] = function getDate() {\n\treturn this.day;\n};\n\nHDate[prototype].getDay = function getDay() {\n\treturn this.greg().getDay();\n};\n\nHDate[prototype].setFullYear = function setFullYear(year) {\n\tthis.year = year;\n\tfixMonth(this);\n\tfixDate(this);\n\treturn this;\n};\n\nHDate[prototype].setMonth = function setMonth(month) {\n\tthis.month = month;\n\tfixMonth(this);\n\tfixDate(this);\n\treturn this;\n};\n\nHDate[prototype].setTishreiMonth = function setTishreiMonth(month) {\n\treturn this.setMonth((month + 6) % MONTHS_IN_HEB(this[getFullYear]()) || 13);\n};\n\nHDate[prototype].setDate = function setDate(date) {\n\tthis.day = date;\n\tfixMonth(this);\n\tfixDate(this);\n\treturn this;\n};\n\n/* convert hebrew date to absolute date */\n/* Absolute date of Hebrew DATE.\n   The absolute date is the number of days elapsed since the (imaginary)\n   Gregorian date Sunday, December 31, 1 BC. */\nfunction hebrew2abs(d) {\n\tvar m, tempabs = d[getDate]();\n\t\n\tif (d[getMonth]() < TISHREI) {\n\t\tfor (m = TISHREI; m <= MONTHS_IN_HEB(d[getFullYear]()); m++) {\n\t\t\ttempabs += max_days_in_heb_month(m, d[getFullYear]());\n\t\t}\n\n\t\tfor (m = c.months.NISAN; m < d[getMonth](); m++) {\n\t\t\ttempabs += max_days_in_heb_month(m, d[getFullYear]());\n\t\t}\n\t} else {\n\t\tfor (m = TISHREI; m < d[getMonth](); m++) {\n\t\t\ttempabs += max_days_in_heb_month(m, d[getFullYear]());\n\t\t}\n\t}\n\t\n\t\n\tret = c.hebrew_elapsed_days(d[getFullYear]()) - 1373429 + tempabs;\n\treturn ret;\n}\n\nfunction abs2hebrew(d) {\n\tvar mmap = [\n\t\tc.months.KISLEV, c.months.TEVET, c.months.SHVAT, c.months.ADAR_I, c.months.NISAN,\n\t\tc.months.IYYAR, c.months.SIVAN, c.months.TAMUZ,\n\t\tTISHREI, TISHREI, TISHREI, c.months.CHESHVAN\n\t], hebdate, gregdate, day, month, year;\n\n\tif (d >= 10555144) {\n\t\tthrow new RangeError(\"parameter to abs2hebrew \" + d + \" out of range\");\n\t}\n\t\n\tgregdate = greg.abs2greg(d);\n\thebdate = new HDate(1, TISHREI, (year = 3760 + gregdate[getFullYear]()));\n\t\n\twhile (hebdate.setFullYear(year + 1), d >= hebrew2abs(hebdate)) {\n\t\tyear++;\n\t}\n\n\tif (year >= 4635 && year < 10666) {\n\t\t// optimize search\n\t\tmonth = mmap[gregdate[getMonth]()];\n\t} else {\n\t\t// we're outside the usual range, so assume nothing about hebrew/gregorian calendar drift...\n\t\tmonth = TISHREI;\n\t}\n\n\twhile (d > hebrew2abs(hebdate = new HDate(max_days_in_heb_month(month, year), month, year))) {\n\t\tmonth = (month % MONTHS_IN_HEB(year)) + 1;\n\t}\n\t\n\t/* if (day < 0) {\n\t\tthrow new RangeError(\"assertion failure d < hebrew2abs(m,d,y) => \" + d + \" < \" + hebrew2abs(hebdate) + \"!\");\n\t} */\n\n\thebdate.setDate(d - hebrew2abs(hebdate.setDate(1)) + 1);\n\thebdate.setLocation.apply(hebdate, HDate.defaultLocation);\n\t\n\treturn hebdate;\n}\n\nHDate[prototype].greg = function toGreg() {\n\treturn greg.abs2greg(hebrew2abs(this));\n};\n\nHDate[prototype].gregEve = function gregEve() {\n\treturn this.prev().sunset();\n};\n\nHDate[prototype][abs] = function abs() {\n\treturn hebrew2abs(this);\n};\n\nHDate[prototype].toString = function toString(o) {\n\treturn c.LANGUAGE([this[getDate](), null, c.gematriya(this[getDate]())], o).toString() + ' ' +\n\t\tthis.getMonthName(o) + ' ' +\n\t\tc.LANGUAGE([this[getFullYear](), null, c.gematriya(this[getFullYear]())], o).toString();\n};\n\nHDate[prototype].getMonthName = function getMonthName(o) {\n\treturn c.LANGUAGE(c.monthNames[+this.isLeapYear()][this[getMonth]()], o);\n};\n\nHDate[prototype].setCity = function setCity(city) {\n\tvar c = cities.getCity(city);\n\tthis.il = c[2];\n\treturn this.setLocation(cities.getLocation(c));\n};\n\nHDate[prototype].setLocation = function setLocation(lat, lon) {\n\tif (typeof lat == 'object' && !Array.isArray(lat)) {\n\t\tlon = lat.long;\n\t\tlat = lat.lat;\n\t}\n\tif (Array.isArray(lat)) {\n\t\tlat = (lat[0] * 60 + lat[1]) / 60;\n\t}\n\tif (Array.isArray(lon)) {\n\t\tlon = (lon[0] * 60 + lon[1]) / 60;\n\t}\n\tif (typeof lat != 'number') {\n\t\tthrow new TypeError('incorrect lat type passed to HDate.setLocation()');\n\t}\n\tif (typeof lon != 'number') {\n\t\tthrow new TypeError('incorrect long type passed to HDate.setLocation()');\n\t}\n\n\tthis.lat = lat;\n\tthis.long = lon;\n\n\tthis.il = cities.getCity(cities.nearest(this.lat, this.long))[2];\n\n\treturn this;\n};\n\nHDate[prototype].sunrise = function sunrise() {\n\treturn suncalc.getTimes(this.greg(), this.lat, this.long).sunrise;\n};\n\nHDate[prototype].sunset = function sunset() {\n\treturn suncalc.getTimes(this.greg(), this.lat, this.long).sunset;\n};\n\nHDate[prototype].hour = function hour() {\n\treturn (this.sunset() - this.sunrise()) / 12; // ms in hour\n};\n\nHDate[prototype].hourMins = function hourMins() {\n\t// hour in ms / (1000 ms in s * 60 s in m) = mins in halachic hour\n\treturn this.hour() / (1000 * 60);\n};\n\nHDate[prototype].nightHour = function nightHour() {\n\treturn (this.sunrise() - this.gregEve()) / 12; // ms in hour\n};\n\nHDate[prototype].nightHourMins = function nightHourMins() {\n\t// hour in ms / (1000 ms in s * 60 s in m) = mins in halachic hour\n\treturn this.nightHour() / (1000 * 60);\n};\n\nvar zemanim = {\n\tchatzot: function chatzot(hdate) {\n\t\treturn new Date(hdate.sunrise()[getTime]() + (hdate.hour() * 6));\n\t},\n\tchatzot_night: function chatzot_night(hdate) {\n\t\treturn new Date(hdate.sunrise()[getTime]() - (hdate.nightHour() * 6));\n\t},\n\talot_hashacher: function alot_hashacher(hdate) {\n\t\treturn suncalc.getTimes(hdate.greg(), hdate.lat, hdate.long).alot_hashacher;\n\t},\n\tmisheyakir: function misheyakir(hdate) {\n\t\treturn suncalc.getTimes(hdate.greg(), hdate.lat, hdate.long).misheyakir;\n\t},\n\tmisheyakir_machmir: function misheyakir_machmir(hdate) {\n\t\treturn suncalc.getTimes(hdate.greg(), hdate.lat, hdate.long).misheyakir_machmir;\n\t},\n\tsof_zman_shma: function sof_zman_shma(hdate) { // Gra\n\t\treturn new Date(hdate.sunrise()[getTime]() + (hdate.hour() * 3));\n\t},\n\tsof_zman_tfilla: function sof_zman_tfilla(hdate) { // Gra\n\t\treturn new Date(hdate.sunrise()[getTime]() + (hdate.hour() * 4));\n\t},\n\tmincha_gedola: function mincha_gedola(hdate) {\n\t\treturn new Date(hdate.sunrise()[getTime]() + (hdate.hour() * 6.5));\n\t},\n\tmincha_ketana: function mincha_ketana(hdate) {\n\t\treturn new Date(hdate.sunrise()[getTime]() + (hdate.hour() * 9.5));\n\t},\n\tplag_hamincha: function plag(hdate) {\n\t\treturn new Date(hdate.sunrise()[getTime]() + (hdate.hour() * 10.75));\n\t},\n\ttzeit: function tzeit(hdate) {\n\t\treturn suncalc.getTimes(hdate.greg(), hdate.lat, hdate.long).tzeit;\n\t},\n\tneitz_hachama: function neitz(hdate) {\n\t\treturn hdate.sunrise();\n\t},\n\tshkiah: function shkiah(hdate) {\n\t\treturn hdate.sunset();\n\t}\n};\n\nHDate[prototype].getZemanim = function getZemanim() {\n\treturn c.map(zemanim, function(z){\n\t\treturn z(this);\n\t}, this);\n};\n\nHDate.addZeman = function addZeman(zeman, func) {\n\tzemanim[zeman] = func;\n};\n\nHDate[prototype].next = function next() {\n\treturn new HDate(this[getDate]() + 1, this[getMonth](), this[getFullYear]());\n};\n\nHDate[prototype].prev = function prev() {\n\tif (this[getDate]() === 1) {\n\t\tif (this[getMonth]() === TISHREI) {\n\t\t\treturn new HDate(max_days_in_heb_month(c.months.ELUL, this[getFullYear]() -1 ), c.months.ELUL, this[getFullYear]() - 1);\n\t\t} else if (this[getMonth]() === c.months.NISAN) {\n\t\t\treturn new HDate(max_days_in_heb_month(MONTHS_IN_HEB(this[getFullYear]()), this[getFullYear]()), MONTHS_IN_HEB(this[getFullYear]()), this[getFullYear]());\n\t\t} else {\n\t\t\treturn new HDate(max_days_in_heb_month(this[getMonth]() - 1, this[getFullYear]()), this[getMonth]() - 1, this[getFullYear]());\n\t\t}\n\t} else {\n\t\treturn new HDate(this[getDate]() - 1, this[getMonth](), this[getFullYear]());\n\t}\n};\n\nHDate[prototype].isSameDate = function isSameDate(other) {\n\tif (other instanceof HDate) {\n\t\tif (other[getFullYear]() === -1) {\n\t\t\tother = new HDate(other).setFullYear(this[getFullYear]());\n\t\t}\n\t\treturn this[abs]() === other[abs]();\n\t}\n\treturn false;\n};\n\nHDate[prototype].before = function before(day) {\n\treturn new HDate(day_on_or_before(day, this[abs]() - 1));\n};\n\nHDate[prototype].onOrBefore = function onOrBefore(day) {\n\treturn new HDate(day_on_or_before(day, this[abs]()));\n};\n\nHDate[prototype].nearest = function nearest(day) {\n\treturn new HDate(day_on_or_before(day, this[abs]() + 3));\n};\n\nHDate[prototype].onOrAfter = function onOrAfter(day) {\n\treturn new HDate(day_on_or_before(day, this[abs]() + 6));\n};\n\nHDate[prototype].after = function after(day) {\n\treturn new HDate(day_on_or_before(day, this[abs]() + 7));\n};\n\nmodule.exports = HDate;",
    "/*\n\tHebcal - A Jewish Calendar Generator\n\tCopyright (C) 1994-2004  Danny Sadinoff\n\tPortions Copyright (c) 2002 Michael J. Radwin. All Rights Reserved.\n\n\thttps://github.com/hebcal/hebcal-js\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tDanny Sadinoff can be reached at \n\tdanny@sadinoff.com\n\n\tMichael Radwin has made significant contributions as a result of\n\tmaintaining hebcal.com.\n\n\tThe JavaScript code was completely rewritten in 2014 by Eyal Schachter\n */\nvar c = require('./common'),\n\tHDate = require('./hdate'),\n\tholidays = require('./holidays'),\n\tSedra = require('./sedra'),\n\tdafyomi = require('./dafyomi'),\n\tcities = require('./cities'),\n\tgreg = require('./greg'),\n\tEventEmitter = require('events').EventEmitter;\n\n// for minifying optimizations\nvar prototype = 'prototype',\n\tdefProp = Object.defineProperty,\n\tfind = 'find',\n\tstrings = 'strings',\n\tMonth = 'Month',\n\tTE = TypeError;\n\n// Main Hebcal function\n\nfunction Hebcal(year, month) {\n\tif (!year) {\n\t\tyear = (new HDate()).getFullYear(); // this year;\n\t}\n\tif (typeof year !== 'number') {\n\t\tthrow new TE('year to Hebcal() is not a number');\n\t}\n\tthis.year = year;\n\tif (month) {\n\t\tif (typeof month == 'string') {\n\t\t\tmonth = c.lookup_hebrew_month(month);\n\t\t}\n\t\tif (typeof month == 'number') {\n\t\t\tmonth = [month];\n\t\t}\n\n\t\tif (Array.isArray(month)) {\n\t\t\tthis.months = month.map(function(i){\n\t\t\t\tvar m = new Hebcal[Month](i, year);\n\t\t\t\tdefProp(m, '__year', {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: this\n\t\t\t\t});\n\t\t\t\treturn m;\n\t\t\t}, this);\n\n\t\t\tthis.holidays = [].concat.apply([], this.months.map(function(m){return m.holidays}));\n\t\t} else {\n\t\t\tthrow new TE('month to Hebcal is not a valid type');\n\t\t}\n\t} else {\n\t\treturn new Hebcal(year, c.range(1, c.MONTHS_IN_HEB(year)));\n\t}\n\n\tthis.length = c.days_in_heb_year(year);\n\n\tdefProp(this, 'il', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getMonth(1).il;\n\t\t},\n\t\tset: function(il) {\n\t\t\tthis.months.forEach(function(m){\n\t\t\t\tm.il = il;\n\t\t\t});\n\t\t}\n\t});\n\n\tdefProp(this, 'lat', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getMonth(1).lat;\n\t\t},\n\t\tset: function(lat) {\n\t\t\tthis.months.forEach(function(m){\n\t\t\t\tm.lat = lat;\n\t\t\t});\n\t\t}\n\t});\n\tdefProp(this, 'long', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getMonth(1).long;\n\t\t},\n\t\tset: function(lon) {\n\t\t\tthis.months.forEach(function(m){\n\t\t\t\tm.long = lon;\n\t\t\t});\n\t\t}\n\t});\n}\n\nHebcal[prototype].isLeapYear = function isLeapYear() {\n\treturn c.LEAP_YR_HEB(this.year);\n};\n\nHebcal[prototype].setCity = function setCity(city) {\n\tthis.months.forEach(function(m){\n\t\tm.setCity(city);\n\t});\n\treturn this;\n};\n\nHebcal[prototype].setLocation = function setLocation(lat, lon) {\n\tthis.months.forEach(function(m){\n\t\tm.setLocation(lat, lon);\n\t});\n\treturn this;\n};\n\nHebcal[prototype].next = function next() {\n\treturn new Hebcal(this.year + 1);\n};\n\nHebcal[prototype].prev = function prev() {\n\treturn new Hebcal(this.year - 1);\n};\n\nHebcal[prototype].getMonth = function getMonth(month) {\n\tmonth = typeof month === 'number' ? month :\n\t\tmonth.charCodeAt(0) >= 1488 && month.charCodeAt(0) <= 1514 && /('|\")/.test(month) ? c.gematriya(month) :\n\t\t\tmonth.charCodeAt(0) >= 48 && month.charCodeAt(0) <= 57 /* number */ ? parseInt(month, 10) : c.lookup_hebrew_month(month);\n\tif (month > this.months.length) {\n\t\treturn this.next().getMonth(month - this.months.length);\n\t}\n\treturn this.months[month > 0 ? month - 1 : this.months.length + month];\n};\n\nHebcal[prototype].getDay = function getDay(day) {\n\tif (day > this.length) {\n\t\treturn null;\n\t}\n\tif (day < 0) {\n\t\treturn this.getDay(this.length - day);\n\t}\n\tvar rosh = this[find](29, c.months.ELUL)[0].abs() + 1 - this[find](1, c.months.NISAN)[0].abs(); // number of days between Nisan and Tishrei\n\tif (day <= rosh) {\n\t\treturn this.getMonth(c.months.NISAN).getDay(day);\n\t}\n\treturn this.getMonth(c.months.TISHREI).getDay(day - rosh);\n};\n\nHebcal[prototype].days = function days() {\n\treturn [].concat.apply([], this.months.map(function(m){\n\t\treturn m.days;\n\t}));\n};\n\nHebcal[prototype].map = function map() {\n\treturn [].map.apply(this.days(), arguments);\n};\n\nHebcal[prototype].filter = function filter() {\n\treturn [].filter.apply(this.days(), arguments);\n};\n\nHebcal[prototype].addHoliday = function addHoliday(holiday) {\n\tif (!(holiday instanceof holidays.Event)) {\n\t\tthrow new TE('non-Event passed to addHoliday()');\n\t}\n\tthis.holidays.push(holiday);\n\treturn this;\n};\n\nHebcal[prototype].findParsha = function findParsha(parsha, o) {\n\tvar days = this.filter(function(d){\n\t\treturn d.getSedra(o).indexOf(parsha) + 1;\n\t});\n\treturn days[days.length - 1];\n};\nHebcal[prototype].findSedra = Hebcal[prototype].findParsha;\n\nHebcal[prototype][find] = function find_f(day, month) {\n\tif (arguments.length === 1) {\n\t\tif (typeof day === 'string') {\n\t\t\treturn find_f[strings].call(this, day);\n\t\t} else if (Array.isArray(day)) {\n\t\t\treturn [].concat.apply([], day.map(function(d){\n\t\t\t\treturn this[find][Array.isArray(d) ? 'apply' : 'call'](this, d);\n\t\t\t}, this));\n\t\t} else if (day instanceof HDate) {\n\t\t\treturn this[find](day.getDate(), day.getMonth());\n\t\t} else if (day instanceof Date) {\n\t\t\treturn this[find](new HDate(day));\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tif (month instanceof Hebcal[Month]) {\n\t\t\treturn month[find](day);\n\t\t} else if (Array.isArray(month)) {\n\t\t\treturn [].concat.apply([], month.map(function(m){\n\t\t\t\treturn this[find](day, m);\n\t\t\t}, this));\n\t\t} else if (typeof month === 'string') {\n\t\t\treturn this[find](day,\n\t\t\t\tmonth.charCodeAt(0) >= 1488 && month.charCodeAt(0) <= 1514 && /('|\")/.test(month) ? c.gematriya(month) :\n\t\t\t\t\tmonth.charCodeAt(0) >= 48 && month.charCodeAt(0) <= 57 /* number */ ? parseInt(month, 10) : c.lookup_hebrew_month(month)\n\t\t\t);\n\t\t} else if (typeof month === 'number') {\n\t\t\treturn this[find](day, this.getMonth(month));\n\t\t}\n\t}\n\treturn [];\n};\nHebcal[prototype][find][strings] = function strings(str) {\n\tif (!str.split(/\\s+/).join('')) {\n\t\treturn [];\n\t} else if (strings[str.replace(/\\s/g, '_').toLowerCase()]) {\n\t\treturn strings[str.replace(/\\s/g, '_').toLowerCase()].call(this);\n\t} else if (new HDate(str).getDate()) {\n\t\treturn this[find](new HDate(str));\n\t}\n\treturn this[find].apply(this, str.split(/\\s+/));\n};\nHebcal[prototype][find][strings].rosh_chodesh = function rosh_chodesh() {\n\treturn this[find]('Rosh Chodesh', c.range(1, this.months.length));\n};\nHebcal[prototype][find][strings].holidays = function holidays() {\n\treturn [].concat.apply([], this.holidays.map(function(h){\n\t\treturn this[find](h.date);\n\t}, this));\n};\nHebcal[prototype][find][strings].omer = function omer() {\n\treturn this[find](c.range(15+1, 15+49), c.months.NISAN);\n};\nHebcal[prototype][find][strings].today = function today() {\n\treturn this[find](new HDate());\n};\nHebcal[prototype][find][strings].yesterday = function yesterday() {\n\treturn [this[find]('today')[0].prev()];\n};\nHebcal[prototype][find][strings].tomorrow = function tomorrow() {\n\treturn [this[find]('today')[0].next()];\n};\nHebcal[prototype][find][strings].pesach = function pesach() {\n\treturn this[find](c.range(15, 15+8-this.il), c.months.NISAN);\n};\nHebcal[prototype][find][strings].sukkot = function sukkot() {\n\treturn this[find](c.range(15, 15+9-this.il), c.months.TISHREI);\n};\nHebcal[prototype][find][strings].succot = Hebcal[prototype][find][strings].succos = Hebcal[prototype][find][strings].sukkos = Hebcal[prototype][find][strings].sukkot;\nHebcal[prototype][find][strings].shavuot = function shavuot() {\n\treturn this[find](c.range(6, 7-this.il), c.months.SIVAN);\n};\nHebcal[prototype][find][strings].shavuos = Hebcal[prototype][find][strings].shavuot;\nHebcal[prototype][find][strings].rosh_hashana = function rosh_hashana() {\n\treturn this[find](c.range(1, 2), c.months.TISHREI);\n};\nHebcal[prototype][find][strings].rosh_hashanah = Hebcal[prototype][find][strings].rosh_hashana;\n\n// Hebcal properties\n\nHebcal.addZeman = HDate.addZeman;\n\nHebcal.cities = cities;\n\nHebcal.range = c.range;\n\nHebcal.gematriya = c.gematriya;\n\nHebcal.holidays = c.filter(holidays, ['masks', 'IGNORE_YEAR', 'Event']); // not getHolidaysForYear()\n\nHebcal.parshiot = Sedra.parshiot;\n\nHebcal.LANGUAGE = c.LANGUAGE;\n\ndefProp(Hebcal, 'defaultLocation', {\n\tenumerable: true,\n\tconfigurable: true,\n\n\tget: function() {\n\t\treturn HDate.defaultLocation;\n\t},\n\tset: function(loc) {\n\t\tHebcal.events.emit('locationChange', HDate.defaultLocation);\n\t\tHDate.defaultLocation = loc;\n\t}\n});\ndefProp(Hebcal, 'defaultCity', {\n\tenumerable: true,\n\tconfigurable: true,\n\n\tget: function() {\n\t\treturn HDate.defaultCity;\n\t},\n\tset: function(city) {\n\t\tvar loc = cities.getLocation(cities.getCity(city));\n\t\tHebcal.defaultLocation = [loc.lat, loc.long]; // call the event\n\t}\n});\n\ndefProp(Hebcal, 'candleLighting', {\n\tenumerable: true,\n\tconfigurable: true,\n\n\tget: function() {\n\t\treturn holidays.Event.candleLighting;\n\t},\n\tset: function(mins) {\n\t\tholidays.Event.candleLighting = mins;\n\t}\n});\n\ndefProp(Hebcal, 'havdalah', {\n\tenumerable: true,\n\tconfigurable: true,\n\n\tget: function() {\n\t\treturn holidays.Event.havdalah;\n\t},\n\tset: function(mins) {\n\t\tholidays.Event.havdalah = mins;\n\t}\n});\n\n// Months\n\nHebcal[Month] = function Month(month, year) {\n\tif (typeof month == 'string') {\n\t\tmonth = c.lookup_hebrew_month(month);\n\t}\n\tif (typeof month != 'number') {\n\t\tthrow new TE('month to Hebcal.Month is not a valid type');\n\t}\n\tif (typeof year != 'number') {\n\t\tthrow new TE('year to Hebcal.Month is not a number');\n\t}\n\tthis.month = month;\n\tthis.year = year;\n\n\tthis.days = c.range(1, c.max_days_in_heb_month(month, year)).map(function(i){\n\t\tvar d = new HDate(i, month, year);\n\t\tdefProp(d, '__month', {\n\t\t\tconfigurable: true,\n\t\t\twritable: true,\n\t\t\tvalue: this\n\t\t});\n\t\treturn d;\n\t}, this);\n\n\tthis.length = this.days.length;\n\n\tthis.holidays = holidays.getHolidaysForYear(year).filter(function(h){\n\t\treturn h.date.getMonth() === month;\n\t}, this);\n\n\tdefProp(this, 'il', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getDay(1).il;\n\t\t},\n\t\tset: function(il) {\n\t\t\tthis.days.forEach(function(d){\n\t\t\t\td.il = il;\n\t\t\t});\n\t\t}\n\t});\n\n\tdefProp(this, 'lat', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getDay(1).lat;\n\t\t},\n\t\tset: function(lat) {\n\t\t\tthis.days.forEach(function(d){\n\t\t\t\td.lat = lat;\n\t\t\t});\n\t\t}\n\t});\n\tdefProp(this, 'long', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getDay(1).long;\n\t\t},\n\t\tset: function(lon) {\n\t\t\tthis.days.forEach(function(d){\n\t\t\t\td.long = lon;\n\t\t\t});\n\t\t}\n\t});\n\n\treturn this;\n};\n\nHebcal[Month][prototype].isLeapYear = function isLeapYear() {\n\treturn c.LEAP_YR_HEB(this.year);\n};\n\nHebcal[Month][prototype].prev = function prev() {\n\tif (this.month === 1) { // Nisan\n\t\treturn this.getYearObject().getMonth(-1);\n\t} else if (this.month === c.months.TISHREI) {\n\t\treturn this.getYearObject().prev().getMonth(c.months.ELUL);\n\t} else {\n\t\treturn this.getYearObject().getMonth(this.month - 1);\n\t}\n};\n\nHebcal[Month][prototype].next = function next() {\n\tif (this.month === c.MONTHS_IN_HEB(this.year)) { // Adar\n\t\treturn this.getYearObject().getMonth(1);\n\t} else if (this.month === c.months.ELUL) {\n\t\treturn this.getYearObject().next().getMonth(c.months.TISHREI);\n\t} else {\n\t\treturn this.getYearObject().getMonth(this.month + 1);\n\t}\n};\n\nHebcal[Month][prototype].getDay = function getDay(day) {\n\tday = typeof day === 'number' ? day :\n\t\tday.charCodeAt(0) >= 1488 && day.charCodeAt(0) <= 1514 && /('|\")/.test(day) ? c.gematriya(day) : parseInt(day, 10); // gematriya or number string\n\tif (day > this.days.length) {\n\t\treturn this.next().getDay(day - this.days.length);\n\t}\n\treturn this.days[day > 0 ? day - 1 : this.days.length + day];\n};\n\nHebcal[Month][prototype].getYearObject = function getYearObject() {\n\treturn this.__year || new Hebcal(this.year);\n};\n\nHebcal[Month][prototype].getName = function getName(o) {\n\treturn c.LANGUAGE(c.monthNames[+this.isLeapYear()][this.month],o);\n};\n\nHebcal[Month][prototype].rosh_chodesh = function rosh_chodesh() {\n\tvar prev = this.prev();\n\treturn prev.length === 30 ? [prev.getDay(-1), this.getDay(1)] : [this.getDay(1)];\n};\n\nHebcal[Month][prototype].setCity = function setCity(city) {\n\tthis.days.forEach(function(d){\n\t\td.setCity(city);\n\t});\n\treturn this;\n};\n\nHebcal[Month][prototype].setLocation = function setLocation(lat, lon) {\n\tthis.days.forEach(function(d){\n\t\td.setLocation(lat, lon);\n\t});\n\treturn this;\n};\n\nHebcal[Month][prototype].map = function map() {\n\treturn [].map.apply(this.days, arguments);\n};\n\nHebcal[Month][prototype][find] = function find_f(day) {\n\tif (typeof day === 'number') {\n\t\treturn [this.getDay(day)];\n\t} else if (typeof day === 'string') {\n\t\treturn find_f[strings].call(this, day);\n\t} else if (Array.isArray(day)) {\n\t\treturn [].concat.apply([], day.map(function(d){\n\t\t\treturn this[find](d);\n\t\t}, this));\n\t} else if (day instanceof HDate && day.getFullYear() === this.year && day.getMonth() === this.month) {\n\t\treturn this[find](day.getDate());\n\t} else if (day instanceof Date) {\n\t\treturn this[find](new HDate(day));\n\t}\n\treturn [];\n};\nHebcal[Month][prototype][find][strings] = function strings(str) {\n\tif (strings[str.replace(/\\s/g, '_').toLowerCase()]) {\n\t\treturn strings[str.replace(/\\s/g, '_').toLowerCase()].call(this);\n\t} else if (new HDate(str).getDate()) {\n\t\treturn this[find](new HDate(str));\n\t}\n\tvar num = str.charCodeAt(0) >= 1488 && str.charCodeAt(0) <= 1514 && /('|\")/.test(str) ? c.gematriya(str) :\n\t\tstr.charCodeAt(0) >= 48 && str.charCodeAt(0) <= 57 /* number */ ? parseInt(str, 10) : null;\n\treturn num ? this[find](num) : [];\n};\nHebcal[Month][prototype][find][strings].rosh_chodesh = function rosh_chodesh() {\n\treturn this.rosh_chodesh();\n};\nHebcal[Month][prototype][find][strings].shabbat_mevarchim = function shabbat_mevarchim() {\n\treturn this.month === c.months.ELUL ? [] : // No birchat hachodesh in Elul\n\t\tthis[find](this.getDay(29).onOrBefore(c.days.SAT));\n};\nHebcal[Month][prototype][find][strings].shabbos_mevarchim = Hebcal[Month][prototype][find][strings].shabbos_mevorchim = Hebcal[Month][prototype][find][strings].shabbat_mevarchim;\n\n// HDate days\n\nHebcal.HDate = HDate;\n\nHDate[prototype].getMonthObject = function getMonthObject() {\n\treturn this.__month || new Hebcal[Month](this.getMonth(), this.getFullYear());\n};\n\nHDate[prototype].getYearObject = function getYearObject() {\n\treturn this.getMonthObject().getYearObject();\n};\n\nvar HDatePrev = HDate[prototype].prev; // slightly less overhead when using unaffiliated HDate()s\nHDate[prototype].prev = function prev() {\n\tif (!this.__month) {\n\t\treturn HDatePrev.call(this);\n\t}\n\tif (this.getMonth() === c.months.TISHREI && this.getDate() === 1) { // 1st day RH\n\t\treturn this.getMonthObject().prev().getDay(-1);\n\t} else {\n\t\tvar g = this.greg();\n\t\tg.setDate(g.getDate() - 1);\n\t\treturn this.getYearObject()[find](g)[0];\n\t}\n};\n\nvar HDateNext = HDate[prototype].next;\nHDate[prototype].next = function next() {\n\tif (!this.__month) {\n\t\treturn HDateNext.call(this);\n\t}\n\tif (this.getMonth() === c.months.ELUL && this.getDate() === this.getMonthObject().length) { // last day\n\t\treturn this.getMonthObject().next().getDay(1);\n\t} else {\n\t\tvar g = this.greg();\n\t\tg.setDate(g.getDate() + 1);\n\t\treturn this.getYearObject()[find](g)[0];\n\t}\n};\n\nHDate[prototype].getSedra = (function(){\n\tvar __cache = {};\n\n\treturn function getSedra(o) {\n\t\tvar sedraYear = __cache[this.getFullYear()];\n\t\tif (!sedraYear || (sedraYear.il != this.il)) {\n\t\t\tsedraYear = __cache[this.getFullYear()] = new Sedra(this.getFullYear(), this.il);\n\t\t}\n\t\treturn sedraYear.getFromHDate(this).map(function(p){\n\t\t\treturn c.LANGUAGE(p, o);\n\t\t});\n\t}\n})();\nHDate[prototype].getParsha = HDate[prototype].getSedra;\n\nHDate[prototype].holidays = function holidays() {\n\treturn this.getYearObject().holidays.filter(function(h){\n\t\treturn this.isSameDate(h.date);\n\t}, this).map(function(h){\n\t\th.date.setLocation(this);\n\t\treturn h;\n\t}, this);\n};\n\nHDate[prototype].omer = function omer() {\n\tif (this.greg().getTime() > new HDate(15, c.months.NISAN, this.getFullYear()).greg().getTime() &&\n\t\tthis.greg().getTime() < new HDate( 6, c.months.SIVAN, this.getFullYear()).greg().getTime()) {\n\t\treturn this.abs() - new HDate(16, c.months.NISAN, this.getFullYear()).abs() + 1;\n\t}\n\treturn 0;\n};\n\nHDate[prototype].dafyomi = function daf(o) {\n\treturn dafyomi.dafname(dafyomi.dafyomi(this.greg()), o);\n};\n\nHDate[prototype].tachanun = (function() {\n\tvar NONE      = tachanun.NONE      = 0,\n\t\tMINCHA    = tachanun.MINCHA    = 1,\n\t\tSHACHARIT = tachanun.SHACHARIT = 2,\n\t\tALL_CONGS = tachanun.ALL_CONGS = 4;\n\n\tvar __cache = {\n\t\tall: {},\n\t\tsome: {},\n\t\til: {}\n\t};\n\n\tfunction tachanun() {\n\t\tvar checkPrev = !arguments[0];\n\n\t\tvar year = this.getYearObject();\n\n\t\tvar all = __cache.il[year.year] === this.il && __cache.all[year.year] || (__cache.all[year.year] = year[find]('Rosh Chodesh').concat(\n\t\t\tyear[find](c.range(1, c.max_days_in_heb_month(c.months.NISAN, this.getFullYear())), c.months.NISAN), // all of Nisan\n\t\t\tyear[find](15 + 33, c.months.NISAN), // Lag Baomer\n\t\t\tyear[find](c.range(1, 8 - this.il), c.months.SIVAN), // Rosh Chodesh Sivan thru Isru Chag\n\t\t\tyear[find]([9, 15], c.months.AV), // Tisha B'av and Tu B'av\n\t\t\tyear[find](-1, c.months.ELUL), // Erev Rosh Hashanah\n\t\t\tyear[find]([1, 2], c.months.TISHREI), // Rosh Hashanah\n\t\t\tyear[find](c.range(9, 24 - this.il), c.months.TISHREI), // Erev Yom Kippur thru Isru Chag\n\t\t\tyear[find](c.range(25, 33), c.months.KISLEV), // Chanukah\n\t\t\tyear[find](15, c.months.SHVAT), // Tu B'shvat\n\t\t\tyear[find]([14, 15], year.isLeapYear() ? [c.months.ADAR_I, c.months.ADAR_II] : c.months.ADAR_I) // Purim/Shushan Purim + Katan\n\t\t)), some = __cache.il[year.year] === this.il && __cache.some[year.year] || (__cache.some[year.year] = [].concat( // Don't care if it overlaps days in all, because all takes precedence\n\t\t\tyear[find](c.range(1, 13), c.months.SIVAN), // Until 14 Sivan\n\t\t\tyear[find](c.range(20, 31), c.months.TISHREI), // Until after Rosh Chodesh Cheshvan\n\t\t\tyear[find](14, c.months.IYYAR), // Pesach Sheini\n\t\t\tyear.holidays.filter(function(h){return c.LANGUAGE(h.desc, 's') == 'Yom HaAtzma\\'ut'})[0].date, // Yom HaAtzma'ut, which changes based on day of week\n\t\t\tyear[find](29, c.months.IYYAR) // Yom Yerushalayim\n\t\t));\n\t\t__cache.il[year.year] = this.il;\n\n\t\tall = c.filter(all.map(function(d){\n\t\t\treturn this.isSameDate(d);\n\t\t}, this), true).length;\n\t\tsome = c.filter(some.map(function(d){\n\t\t\treturn this.isSameDate(d);\n\t\t}, this), true).length;\n\n\t\tif (all) {\n\t\t\treturn NONE;\n\t\t}\n\t\tif (checkPrev) {\n\t\t\treturn (!some && ALL_CONGS) | (this.getDay() != 6 && SHACHARIT) | ((this.next().tachanun(true) & SHACHARIT) && MINCHA);\n\t\t}\n\t\treturn (!some && ALL_CONGS) | (this.getDay() != 6 && SHACHARIT) | (this.getDay() != 5 && MINCHA);\n\t}\n\treturn tachanun;\n})();\n\nHDate[prototype].hallel = (function() {\n\tvar NONE  = hallel.NONE  = 0,\n\t\tHALF  = hallel.HALF  = 1,\n\t\tWHOLE = hallel.WHOLE = 2;\n\n\tvar __cache = {\n\t\twhole: {},\n\t\thalf: {},\n\t\til: {}\n\t};\n\n\tfunction hallel() {\n\t\tvar year = this.getYearObject();\n\n\t\tvar whole = __cache.il[year.year] === this.il && __cache.whole[year.year] || (__cache.whole[year.year] = [].concat(\n\t\t\tyear[find](c.range(25, 33), c.months.KISLEV), // Chanukah\n\t\t\tyear[find]([15, this.il ? null : 16], c.months.NISAN), // First day(s) of Pesach\n\t\t\tyear[find]('Shavuot'),\n\t\t\tyear[find]('Sukkot'),\n\t\t\tyear.holidays.filter(function(h){return c.LANGUAGE(h.desc, 's') == 'Yom HaAtzma\\'ut'})[0].date, // Yom HaAtzma'ut, which changes based on day of week\n\t\t\tyear[find](29, c.months.IYYAR) // Yom Yerushalayim\n\t\t));\n\t\tvar half = __cache.il[year.year] === this.il && __cache.half[year.year] || (__cache.half[year.year] = [].concat(\n\t\t\tyear[find]('Rosh Chodesh').filter(function(rc){return rc.getMonth() !== c.months.TISHREI}), // Rosh Chodesh, but not Rosh Hashanah\n\t\t\tyear[find](c.range(17 - this.il, 23 - this.il), c.months.NISAN) // Last six days of Pesach\n\t\t));\n\t\t__cache.il[year.year] = this.il;\n\n\t\treturn (c.filter(whole.map(function(d){\n\t\t\treturn this.isSameDate(d);\n\t\t}, this), true).length && WHOLE) || (c.filter(half.map(function(d){\n\t\t\treturn this.isSameDate(d);\n\t\t}, this), true).length && HALF) || NONE;\n\t}\n\treturn hallel;\n})();\n\n// Events\n\n(function(events){\n\tvar refreshInterval, refresh, today = new HDate();\n\n\tdefProp(events, 'refreshInterval', {\n\t\tconfigurable: true,\n\t\tenumerable: true,\n\n\t\tget: function() {\n\t\t\treturn refreshInterval;\n\t\t},\n\t\tset: function(ms) {\n\t\t\tif (refresh) {\n\t\t\t\trefresh = clearInterval(refresh);\n\t\t\t}\n\t\t\trefreshInterval = ms;\n\t\t\tif (ms) {\n\t\t\t\trefresh = setInterval(checkTimes, ms);\n\t\t\t}\n\t\t}\n\t});\n\n\tevents.beforeZeman = 1000 * 60 * 10; // 10 minutes\n\n\tfunction checkTimes() {\n\t\tvar now = new HDate();\n\n\t\tif (!today.isSameDate(now)) {\n\t\t\tevents.emit('dayChange');\n\t\t\ttoday = now;\n\t\t}\n\n\t\tvar nowGreg = new Date(), almostTime = c.filter(c.map(now.getZemanim(), function(time){\n\t\t\treturn time - nowGreg;\n\t\t}), function(time) {\n\t\t\treturn time > 0 && time - events.beforeZeman < 0;\n\t\t}), customTimes = c.filter(c.map(events.customs, function(time){\n\t\t\treturn time - nowGreg;\n\t\t}), function(time) {\n\t\t\treturn time > 0 && time - events.refreshInterval < 0;\n\t\t});\n\t\tfor (var zeman in almostTime) {\n\t\t\tevents.emit('almostZeman', zeman, almostTime[zeman]);\n\t\t\tif (almostTime[zeman] < events.refreshInterval) {\n\t\t\t\tevents.emit('atZeman', zeman);\n\t\t\t}\n\t\t}\n\t\tfor (var custom in customTimes) {\n\t\t\tevents.emit('custom', custom);\n\t\t}\n\t}\n\tcheckTimes();\n\n\tevents.refreshInterval = 1000 * 60 * 5; // 5 minutes\n\t// set the interval\n\n\tevents.customs = {};\n})(Hebcal.events = new EventEmitter());\n\n// Gregorian years\n\nHebcal.GregYear = function GregYear(year, month) {\n\tif (!year) {\n\t\tyear = (new Date).getFullYear();\n\t}\n\tif (typeof year === 'string') {\n\t\tvar d = new Date(year);\n\t\tmonth = year.indexOf(' ') + 1 || year.indexOf('-') + 1 || year.indexOf('/') + 1 ? d.getMonth() + 1 : c.range(1, 12);\n\t\t// Check if a month was passed in the string. Can't just check for default January, because a real January might have been passed.\n\t\treturn new Hebcal.GregYear(d.getFullYear(), month);\n\t}\n\tif (typeof year !== 'number') {\n\t\tthrow new TE('year to Hebcal.GregYear() is not a number');\n\t}\n\tthis.year = year;\n\n\tif (month) {\n\t\tif (typeof month === 'string') { // month name\n\t\t\tmonth = greg.lookupMonthName(month);\n\t\t}\n\t\tif (typeof month === 'number') {\n\t\t\tmonth = [month];\n\t\t}\n\n\t\tif (Array.isArray(month)) {\n\t\t\tthis.months = month.map(function(i){\n\t\t\t\tvar m = new Hebcal.GregMonth(i, year);\n\t\t\t\tdefProp(m, '__year', {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: this\n\t\t\t\t});\n\t\t\t\treturn m;\n\t\t\t}, this);\n\t\t} else {\n\t\t\tthrow new TE('month to Hebcal.GregYear() is not a valid type');\n\t\t}\n\t} else {\n\t\treturn new Hebcal.GregYear(year, c.range(1, 12));\n\t}\n\n\tthis.hebyears = [].concat.apply([], this.months.map(function(m){\n\t\treturn m.hebmonths.map(function(hm){\n\t\t\treturn hm.year;\n\t\t});\n\t})).filter(function(val, i, arr){\n\t\treturn arr.indexOf(val) === i; // keep unique values only\n\t});\n\n\tthis.holidays = holidays.getHolidaysForYear(this.hebyears[0]).filter(function(h){\n\t\treturn h.date.greg().getFullYear() === year && this.months.filter(function(m){ // don't keep ones that are out of bounds\n\t\t\treturn m.month === h.date.greg().getMonth() + 1;\n\t\t}).length;\n\t}, this);\n\tif (this.hebyears[1]) {\n\t\tthis.holidays = this.holidays.concat(holidays.getHolidaysForYear(this.hebyears[1]).filter(function(h){\n\t\t\treturn h.date.greg().getFullYear() === year && this.months.filter(function(m){ // don't keep ones that are out of bounds\n\t\t\t\treturn m.month === h.date.greg().getMonth() + 1;\n\t\t\t}).length;\n\t\t}, this));\n\t}\n\n\tthis.length = 365 + greg.LEAP(year);\n\n\tdefProp(this, 'il', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getMonth(1).il;\n\t\t},\n\t\tset: function(il) {\n\t\t\tthis.months.forEach(function(m){\n\t\t\t\tm.il = il;\n\t\t\t});\n\t\t}\n\t});\n\n\tdefProp(this, 'lat', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getMonth(1).lat;\n\t\t},\n\t\tset: function(lat) {\n\t\t\tthis.months.forEach(function(m){\n\t\t\t\tm.lat = lat;\n\t\t\t});\n\t\t}\n\t});\n\tdefProp(this, 'long', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getMonth(1).long;\n\t\t},\n\t\tset: function(lon) {\n\t\t\tthis.months.forEach(function(m){\n\t\t\t\tm.long = lon;\n\t\t\t});\n\t\t}\n\t});\n\n\treturn this;\n};\n\nHebcal.GregYear[prototype].isLeapYear = function isLeapYear() {\n\treturn this.length === 366;\n};\n\nHebcal.GregYear[prototype].setCity = Hebcal[prototype].setCity;\nHebcal.GregYear[prototype].setLocation = Hebcal[prototype].setLocation;\n\nHebcal.GregYear[prototype].next = function next() {\n\treturn new Hebcal.GregYear(this.year + 1);\n};\n\nHebcal.GregYear[prototype].prev = function prev() {\n\treturn new Hebcal.GregYear(this.year - 1);\n};\n\nHebcal.GregYear[prototype].getMonth = function getMonth(month) {\n\tmonth = typeof month === 'number' ? month : greg.lookupMonthNum(month);\n\tif (month > this.months.length) {\n\t\treturn this.next().getMonth(month - this.months.length);\n\t}\n\treturn this.months[month > 0 ? month - 1 : this.months.length + month];\n};\n\nHebcal.GregYear[prototype].days = Hebcal[prototype].days;\nHebcal.GregYear[prototype].map = Hebcal[prototype].map;\nHebcal.GregYear[prototype].filter = Hebcal[prototype].filter;\n\nHebcal.GregYear[prototype].addHoliday = Hebcal[prototype].addHoliday;\n\nHebcal.GregMonth = function GregMonth(month, year) {\n\tif (typeof month == 'string') {\n\t\tmonth = greg.lookupMonthNum(month);\n\t}\n\tif (typeof month != 'number') {\n\t\tthrow new TE('month to Hebcal.GregMonth is not a valid type');\n\t}\n\tif (typeof year != 'number') {\n\t\tthrow new TE('year to Hebcal.GregMonth is not a number');\n\t}\n\n\tthis.year = year;\n\tthis.month = month;\n\n\tthis.days = c.range(1, greg.daysInMonth(month, year)).map(function(i){\n\t\tvar d = new HDate(new Date(year, month - 1, i));\n\t\tdefProp(d, '__gregmonth', {\n\t\t\tconfigurable: true,\n\t\t\twritable: true,\n\t\t\tvalue: this\n\t\t});\n\t\treturn d;\n\t}, this);\n\n\tthis.length = this.days.length;\n\n\tthis.hebmonths = [\n\t\t{month: this.getDay( 1).getMonth(), year: this.getDay( 1).getFullYear()},\n\t\t{month: this.getDay(-1).getMonth(), year: this.getDay(-1).getFullYear()}\n\t].filter(function(val, i, arr){\n\t\treturn i === 0 || val.month !== arr[0].month;\n\t});\n\n\tdefProp(this, 'il', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getDay(1).il;\n\t\t},\n\t\tset: function(il) {\n\t\t\tthis.days.forEach(function(d){\n\t\t\t\td.il = il;\n\t\t\t});\n\t\t}\n\t});\n\n\tdefProp(this, 'lat', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getDay(1).lat;\n\t\t},\n\t\tset: function(lat) {\n\t\t\tthis.days.forEach(function(d){\n\t\t\t\td.lat = lat;\n\t\t\t});\n\t\t}\n\t});\n\tdefProp(this, 'long', {\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\n\t\tget: function() {\n\t\t\treturn this.getDay(1).long;\n\t\t},\n\t\tset: function(lon) {\n\t\t\tthis.days.forEach(function(d){\n\t\t\t\td.long = lon;\n\t\t\t});\n\t\t}\n\t});\n\n\treturn this;\n};\n\nHebcal.GregMonth[prototype].isLeapYear = function isLeapYear() {\n\treturn greg.LEAP(this.year);\n};\n\nHebcal.GregMonth[prototype].prev = function prev() {\n\tif (this.month === 1) {\n\t\treturn this.getYearObject().prev().getMonth(-1);\n\t} else {\n\t\treturn this.getYearObject().getMonth(this.month - 1);\n\t}\n};\n\nHebcal.GregMonth[prototype].next = function next() {\n\treturn this.getYearObject().getMonth(this.month + 1);\n};\n\nHebcal.GregMonth[prototype].getDay = function getDay(day) {\n\tif (day > this.days.length) {\n\t\treturn this.next().getDay(day - this.days.length);\n\t}\n\treturn this.days[day > 0 ? day - 1 : this.days.length + day];\n};\n\nHebcal.GregMonth[prototype].getYearObject = function getYearObject() {\n\treturn this.__year || new Hebcal.GregYear(this.year);\n};\n\nHebcal.GregMonth[prototype].getName = function getName() {\n\treturn greg.monthNames[this.month];\n};\n\nHebcal.GregMonth[prototype].setCity = Hebcal[Month][prototype].setCity;\nHebcal.GregMonth[prototype].setLocation = Hebcal[Month][prototype].setLocation;\n\nHebcal.GregMonth[prototype].map = Hebcal[Month][prototype].map;\n\nHDate[prototype].getGregMonthObject = function getGregMonthObject() {\n\treturn this.__gregmonth || new Hebcal.GregMonth(this.greg().getMonth(), this.greg().getFullYear());\n};\n\nHDate[prototype].getGregYearObject = function getGregYearObject() {\n\treturn this.getGregMonthObject().getYearObject();\n};\n\nmodule.exports = Hebcal;",
    "/*\n\tHebcal - A Jewish Calendar Generator\n\tCopyright (C) 1994-2004  Danny Sadinoff\n\tPortions Copyright (c) 2002 Michael J. Radwin. All Rights Reserved.\n\n\thttps://github.com/hebcal/hebcal-js\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tDanny Sadinoff can be reached at \n\tdanny@sadinoff.com\n\n\tMichael Radwin has made significant contributions as a result of\n\tmaintaining hebcal.com.\n\n\tThe JavaScript code was completely rewritten in 2014 by Eyal Schachter\n */\nvar c = require('./common'), HDate = require('./hdate');\n\nvar __cache = {};\n\n// for byte optimizations\n\nvar day_on_or_before = c.day_on_or_before,\n\tTISHREI = c.months.TISHREI,\n\tKISLEV = c.months.KISLEV,\n\tNISAN = c.months.NISAN,\n\tSAT = c.days.SAT,\n\tgetDay = 'getDay',\n\tabs = 'abs',\n\tpush = 'push',\n\tShabbat = 'Shabbat',\n\tShabbos = 'Shabbos';\n\nfunction Chanukah(day) {\n\treturn ['Chanukah: Candle ' + day, 0, 'חנוכה: נר ' + c.gematriya(day)];\n}\n\nfunction CHM(desc) {\n\treturn [desc[0] + ' (CH\"M)', desc[1] ? desc[1] + ' (CH\"M)' : desc[1], desc[2] ? desc[2] + ' )חה\"ם(' : desc[2]];\n}\n\nfunction Sukkot(day) {\n\treturn ['Sukkot: ' + day, 'Succos: ' + day, 'סוכות יום ' + c.gematriya(day)];\n}\n\nfunction Pesach(day) {\n\treturn ['Pesach: ' + day, 0, 'פסח יום ' + c.gematriya(day)];\n}\n\nvar\tUSER_EVENT          = 1,\n\tLIGHT_CANDLES       = 2,\n\tYOM_TOV_ENDS        = 4,\n\tCHUL_ONLY           = 8, // chutz l'aretz (Diaspora)\n\tIL_ONLY             = 16, // b'aretz (Israel)\n\tLIGHT_CANDLES_TZEIS = 32;\n\nexports.masks = {\n\tUSER_EVENT         : USER_EVENT,\n\tLIGHT_CANDLES      : LIGHT_CANDLES,\n\tYOM_TOV_ENDS       : YOM_TOV_ENDS,\n\tCHUL_ONLY          : CHUL_ONLY,\n\tIL_ONLY            : IL_ONLY,\n\tLIGHT_CANDLES_TZEIS: LIGHT_CANDLES_TZEIS\n};\n\nvar IGNORE_YEAR = exports.IGNORE_YEAR = -1;\n\nfunction Event(date, desc, mask) {\n\tthis.date = new HDate(date);\n\tif (date instanceof Date) {\n\t\tthis.date.setFullYear(IGNORE_YEAR);\n\t}\n\tthis.desc = typeof desc === 'string' ? [desc] : desc;\n\n\tthis.IGNORE_YEAR = date.getFullYear() === IGNORE_YEAR;\n\tthis.USER_EVENT = !!(mask & USER_EVENT);\n\tthis.LIGHT_CANDLES = !!(mask & LIGHT_CANDLES);\n\tthis.YOM_TOV_ENDS = !!(mask & YOM_TOV_ENDS);\n\tthis.CHUL_ONLY = !!(mask & CHUL_ONLY);\n\tthis.IL_ONLY = !!(mask & IL_ONLY);\n\tthis.LIGHT_CANDLES_TZEIS = !!(mask & LIGHT_CANDLES_TZEIS);\n}\n\nEvent.prototype.is = function is(date, il) {\n\tif (!(arguments.length > 1)) {\n\t\til = Event.isIL;\n\t}\n\tdate = new HDate(date);\n\tif (date.getDate() !== this.date.getDate() || date.getMonth() !== this.date.getMonth()) {\n\t\treturn false;\n\t}\n\tif (!this.IGNORE_YEAR && date.getFullYear() !== this.date.getFullYear()) {\n\t\treturn false;\n\t}\n\tif (il && this.CHUL_ONLY || !il && this.IL_ONLY) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nEvent.prototype.masks = function mask() {\n\treturn (this.USER_EVENT          && USER_EVENT) |\n\t\t   (this.LIGHT_CANDLES       && LIGHT_CANDLES) |\n\t\t   (this.YOM_TOV_ENDS        && YOM_TOV_ENDS) |\n\t\t   (this.CHUL_ONLY           && CHUL_ONLY) |\n\t\t   (this.IL_ONLY             && IL_ONLY) |\n\t\t   (this.LIGHT_CANDLES_TZEIS && LIGHT_CANDLES_TZEIS);\n};\n\nEvent.prototype.getDesc = function getDesc(o) {\n\treturn c.LANGUAGE(this.desc, o);\n};\n\nEvent.prototype.candleLighting = function candleLighting() {\n\tif (this.LIGHT_CANDLES) {\n\t\treturn new Date(this.date.sunset() - (Event.candleLighting * 60 * 1000));\n\t} else if (this.LIGHT_CANDLES_TZEIS) {\n\t\treturn this.date.getZemanim().tzeit;\n\t}\n\treturn null;\n};\n\nEvent.prototype.havdalah = function havdalah() {\n\tif (this.YOM_TOV_ENDS) {\n\t\treturn new Date(this.date.sunset() + (Event.havdalah * 60 * 1000));\n\t}\n\treturn null;\n};\n\nEvent.isIL = false;\n\nEvent.candleLighting = 18;\n\nEvent.havdalah = 50;\n\nexports.Event = Event;\n\nvar standards = [ // standard holidays that don't shift based on year\n\t// RH 1 is defined later, based on year, because other holidays depend on it\n\tnew Event(\n\t\tnew HDate(2, TISHREI, IGNORE_YEAR),\n\t\t['Rosh Hashana 2', 0, 'ראש השנה ב\\''],\n\t\tYOM_TOV_ENDS\n\t), new Event(\n\t\tnew HDate(9, TISHREI, IGNORE_YEAR),\n\t\t['Erev Yom Kippur', 0, 'ערב יום כיפור'],\n\t\tLIGHT_CANDLES\n\t), new Event(\n\t\tnew HDate(10, TISHREI, IGNORE_YEAR),\n\t\t['Yom Kippur', 0, 'יום כיפור'],\n\t\tYOM_TOV_ENDS\n\t), new Event(\n\t\tnew HDate(14, TISHREI, IGNORE_YEAR),\n\t\t['Erev Sukkot', 'Erev Succos', 'ערב סוכות'],\n\t\tLIGHT_CANDLES\n\t), new Event(\n\t\tnew HDate(15, TISHREI, IGNORE_YEAR),\n\t\tSukkot(1),\n\t\tLIGHT_CANDLES_TZEIS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(15, TISHREI, IGNORE_YEAR),\n\t\tSukkot(1),\n\t\tYOM_TOV_ENDS | IL_ONLY\n\t), new Event(\n\t\tnew HDate(16, TISHREI, IGNORE_YEAR),\n\t\tSukkot(2),\n\t\tYOM_TOV_ENDS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(16, TISHREI, IGNORE_YEAR),\n\t\tCHM(Sukkot(2)),\n\t\tIL_ONLY\n\t), new Event(\n\t\tnew HDate(17, TISHREI, IGNORE_YEAR),\n\t\tCHM(Sukkot(3)),\n\t\t0\n\t), new Event(\n\t\tnew HDate(18, TISHREI, IGNORE_YEAR),\n\t\tCHM(Sukkot(4)),\n\t\t0\n\t), new Event(\n\t\tnew HDate(19, TISHREI, IGNORE_YEAR),\n\t\tCHM(Sukkot(5)),\n\t\t0\n\t), new Event(\n\t\tnew HDate(20, TISHREI, IGNORE_YEAR),\n\t\tCHM(Sukkot(6)),\n\t\t0\n\t), new Event(\n\t\tnew HDate(21, TISHREI, IGNORE_YEAR),\n\t\t['Sukkot: 7 (Hoshana Raba)', 'Succos: 7 (Hoshana Raba)', 'סוכות יום ז\\' )הושנע רבה('],\n\t\tLIGHT_CANDLES\n\t), new Event(\n\t\tnew HDate(22, TISHREI, IGNORE_YEAR),\n\t\t['Shmini Atzeret', 'Shmini Atzeres', 'שמיני עצרת'],\n\t\tLIGHT_CANDLES_TZEIS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(22, TISHREI, IGNORE_YEAR),\n\t\t['Shmini Atzeret / Simchat Torah', 'Shmini Atzeres / Simchas Torah', 'שמיני עצרת / שמחת תורה'],\n\t\tYOM_TOV_ENDS | IL_ONLY\n\t), new Event(\n\t\tnew HDate(23, TISHREI, IGNORE_YEAR),\n\t\t['Simchat Torah', 'Simchas Torah', 'שמחת תורה'],\n\t\tYOM_TOV_ENDS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(24, KISLEV, IGNORE_YEAR),\n\t\t['Erev Chanukah', 0, 'ערב חנוכה'],\n\t\t0\n\t), new Event(\n\t\tnew HDate(25, KISLEV, IGNORE_YEAR),\n\t\tChanukah(1),\n\t\t0\n\t), new Event(\n\t\tnew HDate(26, KISLEV, IGNORE_YEAR),\n\t\tChanukah(2),\n\t\t0\n\t), new Event(\n\t\tnew HDate(27, KISLEV, IGNORE_YEAR),\n\t\tChanukah(3),\n\t\t0\n\t), new Event(\n\t\tnew HDate(28, KISLEV, IGNORE_YEAR),\n\t\tChanukah(4),\n\t\t0\n\t), new Event(\n\t\tnew HDate(29, KISLEV, IGNORE_YEAR),\n\t\tChanukah(5),\n\t\t0\n\t), new Event(\n\t\tnew HDate(30, KISLEV, IGNORE_YEAR), // yes, i know these are wrong\n\t\tChanukah(6),\n\t\t0\n\t), new Event(\n\t\tnew HDate(31, KISLEV, IGNORE_YEAR), // HDate() corrects the month automatically\n\t\tChanukah(7),\n\t\t0\n\t), new Event(\n\t\tnew HDate(32, KISLEV, IGNORE_YEAR),\n\t\tChanukah(8),\n\t\t0\n\t), new Event(\n\t\tnew HDate(15, c.months.SHVAT, IGNORE_YEAR),\n\t\t['Tu B\\'Shvat', 0, 'ט\"ו בשבט'],\n\t\t0\n\t), new Event(\n\t\tnew HDate(14, NISAN, IGNORE_YEAR),\n\t\t['Erev Pesach', 0, 'ערב פסח'],\n\t\tLIGHT_CANDLES\n\t), new Event(\n\t\tnew HDate(15, NISAN, IGNORE_YEAR),\n\t\tPesach(1),\n\t\tLIGHT_CANDLES_TZEIS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(15, NISAN, IGNORE_YEAR),\n\t\tPesach(1),\n\t\tYOM_TOV_ENDS | IL_ONLY\n\t), new Event(\n\t\tnew HDate(16, NISAN, IGNORE_YEAR),\n\t\tPesach(2),\n\t\tYOM_TOV_ENDS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(16, NISAN, IGNORE_YEAR),\n\t\tCHM(Pesach(2)),\n\t\tIL_ONLY\n\t), new Event(\n\t\tnew HDate(16, NISAN, IGNORE_YEAR),\n\t\t['Start counting Omer', 0, 'התחלת ספירת העומר'],\n\t\t0\n\t), new Event(\n\t\tnew HDate(17, NISAN, IGNORE_YEAR),\n\t\tCHM(Pesach(3)),\n\t\t0\n\t), new Event(\n\t\tnew HDate(18, NISAN, IGNORE_YEAR),\n\t\tCHM(Pesach(4)),\n\t\t0\n\t), new Event(\n\t\tnew HDate(19, NISAN, IGNORE_YEAR),\n\t\tCHM(Pesach(5)),\n\t\t0\n\t), new Event(\n\t\tnew HDate(20, NISAN, IGNORE_YEAR),\n\t\tCHM(Pesach(6)),\n\t\tLIGHT_CANDLES\n\t), new Event(\n\t\tnew HDate(21, NISAN, IGNORE_YEAR),\n\t\tPesach(7),\n\t\tLIGHT_CANDLES_TZEIS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(21, NISAN, IGNORE_YEAR),\n\t\tPesach(7),\n\t\tYOM_TOV_ENDS | IL_ONLY\n\t), new Event(\n\t\tnew HDate(22, NISAN, IGNORE_YEAR),\n\t\tPesach(8),\n\t\tYOM_TOV_ENDS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(14, c.months.IYYAR, IGNORE_YEAR),\n\t\t['Pesach Sheni', 0, 'פסח שני'],\n\t\t0\n\t), new Event(\n\t\tnew HDate(18, c.months.IYYAR, IGNORE_YEAR),\n\t\t['Lag B\\'Omer', 0, 'ל\"ג בעומר'],\n\t\t0\n\t), new Event(\n\t\tnew HDate(5, c.months.SIVAN, IGNORE_YEAR),\n\t\t['Erev Shavuot', 'Erev Shavuos', 'ערב שבועות'],\n\t\tLIGHT_CANDLES\n\t), new Event(\n\t\tnew HDate(6, c.months.SIVAN, IGNORE_YEAR),\n\t\t['Shavuot 1', 'Shavuos 1', 'שבועות א\\''],\n\t\tLIGHT_CANDLES_TZEIS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(6, c.months.SIVAN, IGNORE_YEAR),\n\t\t['Shavuot', 'Shavuos', 'שבועות'],\n\t\tYOM_TOV_ENDS | IL_ONLY\n\t), new Event(\n\t\tnew HDate(7, c.months.SIVAN, IGNORE_YEAR),\n\t\t['Shavuot 2', 'Shavuos 2', 'שבועות ב\\''],\n\t\tYOM_TOV_ENDS | CHUL_ONLY\n\t), new Event(\n\t\tnew HDate(29, c.months.ELUL, IGNORE_YEAR),\n\t\t['Erev Rosh Hashana', 0, 'ערב ראש השנה'],\n\t\tLIGHT_CANDLES\n\t)\n];\n\nexports.getHolidaysForYear = function getHolidaysForYear(year) {\n\tif (__cache[year]) {\n\t\treturn __cache[year];\n\t}\n\n\tvar h = standards.slice(), // clone\n\n\t\tRH = new HDate(1, TISHREI, year),\n\t\tpesach = new HDate(15, NISAN, year),\n\t\ttmpDate;\n\n\th[push](new Event(\n\t\tRH,\n\t\t['Rosh Hashana 1', 0, 'ראש השנה א\\''],\n\t\tLIGHT_CANDLES_TZEIS\n\t));\n\n\th[push](new Event(\n\t\tnew HDate(3 + (RH[getDay]() == c.days.THU), TISHREI, year), // push off to SUN if RH is THU\n\t\t['Tzom Gedaliah', 0, 'צום גדליה'],\n\t\t0\n\t));\n\n\th[push](new Event( // first SAT after RH\n\t\tnew HDate(day_on_or_before(SAT, 7 + RH[abs]())),\n\t\t[Shabbat + ' Shuva', Shabbos + ' Shuvah', 'שבת שובה'],\n\t\t0\n\t));\n\n\ttmpDate = new HDate(10, c.months.TEVET, year);\n\tif (tmpDate[getDay]() === SAT) {\n\t\ttmpDate = tmpDate.next();\n\t}\n\th[push](new Event(\n\t\ttmpDate,\n\t\t['Asara B\\'Tevet', 0, 'עשרה בטבת'],\n\t\t0\n\t));\n\n\th[push](new Event(\n\t\tnew HDate(day_on_or_before(SAT, pesach[abs]() - 43)),\n\t\t[Shabbat + ' Shekalim', Shabbos + ' Shekalim', 'שבת שקלים'],\n\t\t0\n\t));\n\n\th[push](new Event(\n\t\tnew HDate(day_on_or_before(SAT, pesach[abs]() - 30)),\n\t\t[Shabbat + ' Zachor', Shabbos + ' Zachor', 'שבת זכור'],\n\t\t0\n\t));\n\n\th[push](new Event(\n\t\tnew HDate(pesach[abs]() - (pesach[getDay]() == c.days.TUE ? 33 : 31)),\n\t\t['Ta\\'anit Esther', 'Ta\\'anis Esther', 'תענית אסתר'],\n\t\t0\n\t));\n\n\tif (c.LEAP_YR_HEB(year)) {\n\t\th[push](new Event(\n\t\t\tnew HDate(14, c.months.ADAR_I, year),\n\t\t\t['Purim Katan', 0, 'פורים קטן'],\n\t\t\t0\n\t\t));\n\n\t\th[push](new Event(\n\t\t\tnew HDate(15, c.months.ADAR_I, year),\n\t\t\t['Shushan Purim Katan', 0, 'שושן פורים קטן'],\n\t\t\t0\n\t\t));\n\n\t\th[push](new Event(\n\t\t\tnew HDate(13, c.months.ADAR_II, year),\n\t\t\t['Erev Purim', 0, 'ערב פורים'],\n\t\t\t0\n\t\t));\n\n\t\th[push](new Event(\n\t\t\tnew HDate(14, c.months.ADAR_II, year),\n\t\t\t['Purim', 0, 'פורים'],\n\t\t\t0\n\t\t));\n\n\t\th[push](new Event(\n\t\t\tnew HDate(15, c.months.ADAR_II, year),\n\t\t\t['Shushan Purim', 0, 'שושן פורים'],\n\t\t\t0\n\t\t));\n\t} else {\n\t\th[push](new Event(\n\t\t\tnew HDate(13, c.months.ADAR_I, year),\n\t\t\t['Erev Purim', 0, 'ערב פורים'],\n\t\t\t0\n\t\t));\n\n\t\th[push](new Event(\n\t\t\tnew HDate(14, c.months.ADAR_I, year),\n\t\t\t['Purim', 0, 'פורים'],\n\t\t\t0\n\t\t));\n\n\t\th[push](new Event(\n\t\t\tnew HDate(15, c.months.ADAR_I, year),\n\t\t\t['Shushan Purim', 0, 'שושן פורים'],\n\t\t\t0\n\t\t));\n\t}\n\n\th[push](new Event(\n\t\tnew HDate(day_on_or_before(SAT, pesach[abs]() - 14) - 7),\n\t\t[Shabbat + ' Parah', Shabbos + ' Parah', 'שבת פרה'],\n\t\t0\n\t));\n\n\th[push](new Event(\n\t\tnew HDate(day_on_or_before(SAT, pesach[abs]() - 14)),\n\t\t[Shabbat + ' Hachodesh', Shabbos + ' Hachodesh', 'שבת החודש'],\n\t\t0\n\t));\n\n\tif (pesach.prev()[getDay]() == SAT) {\n\t\t// if the fast falls on Shabbat, move to Thursday\n\t\th[push](new Event(\n\t\t\tnew HDate(day_on_or_before(c.days.THU, pesach[abs]())),\n\t\t\t['Ta\\'anit Bechorot', 'Ta\\'anis Bechoros', 'תענית בכורות'],\n\t\t\t0\n\t\t));\n\t} else {\n\t\th[push](new Event(\n\t\t\tnew HDate(14, NISAN, year),\n\t\t\t['Ta\\'anit Bechorot', 'Ta\\'anis Bechoros', 'תענית בכורות'],\n\t\t\t0\n\t\t));\n\t}\n\n\th[push](new Event(\n\t\tnew HDate(day_on_or_before(SAT, pesach[abs]() - 1)),\n\t\t[Shabbat + ' HaGadol', Shabbos + ' HaGadol', 'שבת הגדול'],\n\t\t0\n\t));\n\n\tif (year >= 5711) { // Yom HaShoah first observed in 1951\n\t\ttmpDate = new HDate(27, NISAN, year);\n\t\t/* When the actual date of Yom Hashoah falls on a Friday, the\n\t\t * state of Israel observes Yom Hashoah on the preceding\n\t\t * Thursday. When it falls on a Sunday, Yom Hashoah is observed\n\t\t * on the following Monday.\n\t\t * http://www.ushmm.org/remembrance/dor/calendar/\n\t\t */\n\n\t\tif (tmpDate[getDay]() === c.days.FRI) {\n\t\t\ttmpDate = tmpDate.prev();\n\t\t} else if (tmpDate[getDay]() === c.days.SUN) {\n\t\t\ttmpDate = tmpDate.next();\n\t\t}\n\n\t\th[push](new Event(\n\t\t\ttmpDate,\n\t\t\t['Yom HaShoah', 0, 'יום השואה'],\n\t\t\t0\n\t\t));\n\t}\n\n\tif (year >= 5711) { // Yom HaAtzma'ut only celebrated after 1948\n\t\ttmpDate = new HDate(1, c.months.IYYAR, year);\n\n\t\tif (pesach[getDay]() === c.days.SUN) {\n\t\t\ttmpDate.setDate(2);\n\t\t} else if (pesach[getDay]() === SAT) {\n\t\t\ttmpDate.setDate(3);\n\t\t} else if (year < 5764) {\n\t\t\ttmpDate.setDate(4);\n\t\t} else if (pesach[getDay]() === c.days.TUE) {\n\t\t\ttmpDate.setDate(5);\n\t\t} else {\n\t\t\ttmpDate.setDate(4);\n\t\t}\n\n\t\th[push](new Event(\n\t\t\ttmpDate,\n\t\t\t['Yom HaZikaron', 0, 'יום הזיכרון'],\n\t\t\t0\n\t\t));\n\n\t\th[push](new Event(\n\t\t\ttmpDate.next(),\n\t\t\t['Yom HaAtzma\\'ut', 0, 'יום העצמאות'],\n\t\t\t0\n\t\t));\n\t}\n\n\tif (year >= 5727) { // Yom Yerushalayim only celebrated after 1967\n\t\th[push](new Event(\n\t\t\tnew HDate(29, c.months.IYYAR, year),\n\t\t\t['Yom Yerushalayim', 0, 'יום ירושלים'],\n\t\t\t0\n\t\t));\n\t}\n\n\ttmpDate = new HDate(17, c.months.TAMUZ, year);\n\tif (tmpDate[getDay]() === SAT) {\n\t\ttmpDate = tmpDate.next();\n\t}\n\th[push](new Event(\n\t\ttmpDate,\n\t\t['Shiva-Asar B\\'Tamuz', 0, 'צום יז\\' בתמוז'],\n\t\t0\n\t));\n\n\ttmpDate = new HDate(9, c.months.AV, year);\n\tif (tmpDate[getDay]() === SAT) {\n\t\ttmpDate = tmpDate.next();\n\t}\n\n\th[push](new Event(\n\t\tnew HDate(day_on_or_before(SAT, tmpDate[abs]())),\n\t\t[Shabbat + ' Chazon', Shabbos + ' Chazon', 'שבת חזון'],\n\t\t0\n\t));\n\n\th[push](new Event(\n\t\ttmpDate.prev(),\n\t\t['Erev Tish\\'a B\\'Av', 0, 'ערב תשעה באב'],\n\t\t0\n\t));\n\n\th[push](new Event(\n\t\ttmpDate,\n\t\t['Tish\\'a B\\'Av', 0, 'תשעה באב'],\n\t\t0\n\t));\n\n\th[push](new Event(\n\t\tnew HDate(day_on_or_before(SAT, tmpDate[abs]() + 7)),\n\t\t[Shabbat + ' Nachamu', Shabbos + ' Nachamu', 'שבת נחמו'],\n\t\t0\n\t));\n\n\th[push](new Event(\n\t\tnew HDate(day_on_or_before(SAT, new HDate(1, TISHREI, year + 1)[abs]() - 4)),\n\t\t['Leil Selichot', 'Leil Selichos', 'ליל סליחות'],\n\t\t0\n\t));\n\n\tfor (var day = 6; day < c.days_in_heb_year(year); day += 7) {\n\t\th[push](new Event(\n\t\t\tnew HDate(day_on_or_before(SAT, new HDate(1, TISHREI, year)[abs]() + day)),\n\t\t\t['Shabbat', 'Shabbos', 'שבת'],\n\t\t\tYOM_TOV_ENDS\n\t\t));\n\n\t\th[push](new Event(\n\t\t\tnew HDate(day_on_or_before(c.days.FRI, new HDate(1, TISHREI, year)[abs]() + day)),\n\t\t\t['Erev Shabbat', 'Erev Shabbos', 'ערב שבת'],\n\t\t\tLIGHT_CANDLES\n\t\t));\n\t}\n\n\tfor (var month = 1; month <= c.MONTHS_IN_HEB(year); month++) {\n\t\tif ((month === NISAN ? c.max_days_in_heb_month(c.MONTHS_IN_HEB(year - 1), year - 1) :\n\t\t\t\tc.max_days_in_heb_month(month - 1, year)) == 30) {\n\t\t\th[push](new Event(\n\t\t\t\tnew HDate(1, month, year),\n\t\t\t\t['Rosh Chodesh 2', 0, 'ראש חודש ב\\''],\n\t\t\t\t0\n\t\t\t));\n\n\t\t\th[push](new Event(\n\t\t\t\tnew HDate(30, month - 1, year),\n\t\t\t\t['Rosh Chodesh 1', 0, 'ראש חודש א\\''],\n\t\t\t\t0\n\t\t\t));\n\t\t} else if (month !== TISHREI) {\n\t\t\th[push](new Event(\n\t\t\t\tnew HDate(1, month, year),\n\t\t\t\t['Rosh Chodesh', 0, 'ראש חודש'],\n\t\t\t\t0\n\t\t\t));\n\t\t}\n\n\t\tif (month === c.months.ELUL) {\n\t\t\tcontinue;\n\t\t}\n\n\t\th[push](new Event(\n\t\t\tnew HDate(29, month, year).onOrBefore(SAT),\n\t\t\t[Shabbat + ' Mevarchim', Shabbos + ' Mevorchim', 'שבת מברכים'],\n\t\t\t0\n\t\t));\n\t}\n\n\treturn (__cache[year] = h);\n};",
    "/*\n (c) 2011-2013, Vladimir Agafonkin\n SunCalc is a JavaScript library for calculating sun/mooon position and light phases.\n https://github.com/mourner/suncalc\n*/\n\n(function () { \"use strict\";\n\n// shortcuts for easier to read formulas\n\nvar PI   = Math.PI,\n    sin  = Math.sin,\n    cos  = Math.cos,\n    tan  = Math.tan,\n    asin = Math.asin,\n    atan = Math.atan2,\n    acos = Math.acos,\n    rad  = PI / 180;\n\n// sun calculations are based on http://aa.quae.nl/en/reken/zonpositie.html formulas\n\n\n// date/time constants and conversions\n\nvar dayMs = 1000 * 60 * 60 * 24,\n    J1970 = 2440588,\n    J2000 = 2451545;\n\nfunction toJulian(date) {\n    return date.valueOf() / dayMs - 0.5 + J1970;\n}\nfunction fromJulian(j) {\n    return new Date((j + 0.5 - J1970) * dayMs);\n}\nfunction toDays(date) {\n    return toJulian(date) - J2000;\n}\n\n\n// general calculations for position\n\nvar e = rad * 23.4397; // obliquity of the Earth\n\nfunction getRightAscension(l, b) {\n    return atan(sin(l) * cos(e) - tan(b) * sin(e), cos(l));\n}\nfunction getDeclination(l, b) {\n    return asin(sin(b) * cos(e) + cos(b) * sin(e) * sin(l));\n}\nfunction getAzimuth(H, phi, dec) {\n    return atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi));\n}\nfunction getAltitude(H, phi, dec) {\n    return asin(sin(phi) * sin(dec) + cos(phi) * cos(dec) * cos(H));\n}\nfunction getSiderealTime(d, lw) {\n    return rad * (280.16 + 360.9856235 * d) - lw;\n}\n\n\n// general sun calculations\n\nfunction getSolarMeanAnomaly(d) {\n    return rad * (357.5291 + 0.98560028 * d);\n}\nfunction getEquationOfCenter(M) {\n    return rad * (1.9148 * sin(M) + 0.02 * sin(2 * M) + 0.0003 * sin(3 * M));\n}\nfunction getEclipticLongitude(M, C) {\n    var P = rad * 102.9372; // perihelion of the Earth\n    return M + C + P + PI;\n}\nfunction getSunCoords(d) {\n\n    var M = getSolarMeanAnomaly(d),\n        C = getEquationOfCenter(M),\n        L = getEclipticLongitude(M, C);\n\n    return {\n        dec: getDeclination(L, 0),\n        ra: getRightAscension(L, 0)\n    };\n}\n\n\nvar SunCalc = {};\n\n\n// calculates sun position for a given date and latitude/longitude\n\nSunCalc.getPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c  = getSunCoords(d),\n        H  = getSiderealTime(d, lw) - c.ra;\n\n    return {\n        azimuth: getAzimuth(H, phi, c.dec),\n        altitude: getAltitude(H, phi, c.dec)\n    };\n};\n\n\n// sun times configuration (angle, morning name, evening name)\n\nvar times = [\n    [-0.83, 'sunrise',       'sunset'      ],\n    [ -0.3, 'sunriseEnd',    'sunsetStart' ],\n    [   -6, 'dawn',          'dusk'        ],\n    [  -12, 'nauticalDawn',  'nauticalDusk'],\n    [  -18, 'nightEnd',      'night'       ],\n    [    6, 'goldenHourEnd', 'goldenHour'  ]\n];\n\n// adds a custom time to the times config\n\nSunCalc.addTime = function (angle, riseName, setName) {\n    times.push([angle, riseName, setName]);\n};\n\n\n// calculations for sun times\n\nvar J0 = 0.0009;\n\nfunction getJulianCycle(d, lw) {\n    return Math.round(d - J0 - lw / (2 * PI));\n}\nfunction getApproxTransit(Ht, lw, n) {\n    return J0 + (Ht + lw) / (2 * PI) + n;\n}\nfunction getSolarTransitJ(ds, M, L) {\n    return J2000 + ds + 0.0053 * sin(M) - 0.0069 * sin(2 * L);\n}\nfunction getHourAngle(h, phi, d) {\n    return acos((sin(h) - sin(phi) * sin(d)) / (cos(phi) * cos(d)));\n}\n\n\n// calculates sun times for a given date and latitude/longitude\n\nSunCalc.getTimes = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        n  = getJulianCycle(d, lw),\n        ds = getApproxTransit(0, lw, n),\n\n        M = getSolarMeanAnomaly(ds),\n        C = getEquationOfCenter(M),\n        L = getEclipticLongitude(M, C),\n\n        dec = getDeclination(L, 0),\n\n        Jnoon = getSolarTransitJ(ds, M, L);\n\n\n    // returns set time for the given sun altitude\n    function getSetJ(h) {\n        var w = getHourAngle(h, phi, dec),\n            a = getApproxTransit(w, lw, n);\n\n        return getSolarTransitJ(a, M, L);\n    }\n\n\n    var result = {\n        solarNoon: fromJulian(Jnoon),\n        nadir: fromJulian(Jnoon - 0.5)\n    };\n\n    var i, len, time, angle, morningName, eveningName, Jset, Jrise;\n\n    for (i = 0, len = times.length; i < len; i += 1) {\n        time = times[i];\n\n        Jset = getSetJ(time[0] * rad);\n        Jrise = Jnoon - (Jset - Jnoon);\n\n        result[time[1]] = fromJulian(Jrise);\n        result[time[2]] = fromJulian(Jset);\n    }\n\n    return result;\n};\n\n\n// moon calculations, based on http://aa.quae.nl/en/reken/hemelpositie.html formulas\n\nfunction getMoonCoords(d) { // geocentric ecliptic coordinates of the moon\n\n    var L = rad * (218.316 + 13.176396 * d), // ecliptic longitude\n        M = rad * (134.963 + 13.064993 * d), // mean anomaly\n        F = rad * (93.272 + 13.229350 * d),  // mean distance\n\n        l  = L + rad * 6.289 * sin(M), // longitude\n        b  = rad * 5.128 * sin(F),     // latitude\n        dt = 385001 - 20905 * cos(M);  // distance to the moon in km\n\n    return {\n        ra: getRightAscension(l, b),\n        dec: getDeclination(l, b),\n        dist: dt\n    };\n}\n\nSunCalc.getMoonPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c = getMoonCoords(d),\n        H = getSiderealTime(d, lw) - c.ra,\n        h = getAltitude(H, phi, c.dec);\n\n    // altitude correction for refraction\n    h = h + rad * 0.017 / tan(h + rad * 10.26 / (h + rad * 5.10));\n\n    return {\n        azimuth: getAzimuth(H, phi, c.dec),\n        altitude: h,\n        distance: c.dist\n    };\n};\n\n\n// calculations for illuminated fraction of the moon,\n// based on http://idlastro.gsfc.nasa.gov/ftp/pro/astro/mphase.pro formulas\n\nSunCalc.getMoonFraction = function (date) {\n\n    var d = toDays(date),\n        s = getSunCoords(d),\n        m = getMoonCoords(d),\n\n        sdist = 149598000, // distance from Earth to Sun in km\n\n        phi = acos(sin(s.dec) * sin(m.dec) + cos(s.dec) * cos(m.dec) * cos(s.ra - m.ra)),\n        inc = atan(sdist * sin(phi), m.dist - sdist * cos(phi));\n\n    return (1 + cos(inc)) / 2;\n};\n\n\n// export as AMD module / Node module / browser variable\n\nif (typeof define === 'function' && define.amd) {\n    define(SunCalc);\n} else if (typeof module !== 'undefined') {\n    module.exports = SunCalc;\n} else {\n    window.SunCalc = SunCalc;\n}\n\n}());\n",
    "/*\n\tHebcal - A Jewish Calendar Generator\n\tCopyright (C) 1994-2004  Danny Sadinoff\n\tPortions Copyright (c) 2002 Michael J. Radwin. All Rights Reserved.\n\n\thttps://github.com/hebcal/hebcal-js\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tDanny Sadinoff can be reached at \n\tdanny@sadinoff.com\n\n\tMichael Radwin has made significant contributions as a result of\n\tmaintaining hebcal.com.\n\n\tThe JavaScript code was completely rewritten in 2014 by Eyal Schachter\n */\n/*\n * Many of the following algorithms were taken from hebrew calendar\n * routines by Maimonedes, from his Mishneh Torah, and implemented by\n *  Nachum Dershowitz                Department of Computer Science\n *  (217) 333-4219                   University of Illinois at Urbana-Champaign\n *  nachum@cs.uiuc.edu               1304 West Springfield Avenue\n *                                   Urbana, Illinois 61801\n *\n * The routines were included in the emacs 19 distribution.\n *\n */\nvar c = require('./common'), HDate = require('./hdate');\n\nvar concat = 'concat', range = c.range; // for client optimization\n\nvar INCOMPLETE = 0,\n\tREGULAR = 1,\n\tCOMPLETE = 2;\n\nfunction Sedra(hebYr, il) { // the Hebrew year\n\til = !!il;\n\tvar long_c = c.long_cheshvan(hebYr);\n\tvar short_k = c.short_kislev(hebYr);\n\tvar type;\n\tthis.year = hebYr;\n\tif (long_c && !short_k) {\n\t\ttype = COMPLETE;\n\t} else if (!long_c && short_k) {\n\t\ttype = INCOMPLETE;\n\t} else {\n\t\ttype = REGULAR;\n\t}\n\n\tvar rosh_hashana = new HDate(1, c.months.TISHREI, hebYr).abs();\n\tvar rosh_hashana_day = (rosh_hashana % 7) + 1;\n\n\t// find the first Saturday on or after Rosh Hashana\n\tthis.first_saturday = c.day_on_or_before(6, rosh_hashana + 6);\n\tvar leap = +c.LEAP_YR_HEB(hebYr);\n\tthis.type = type;\n\tthis.rosh_hashana_day = rosh_hashana_day;\n\tthis.leap = leap;\n\tthis.il = il;\n\n\tvar core = \"\" + leap + rosh_hashana_day + type;\n\tif (types[core]) {\n\t\tthis.theSedraArray = types[core];\n\t} else {\n\t\tthis.theSedraArray = types[core + (+il)]; // cast to num, then concat\n\t}\n\n\tif (!this.theSedraArray) {\n\t\tconsole.log(this);\n\t\tthrow new TypeError(\"improper sedra year type calculated.\");\n\t}\n}\n\nvar parshiot = Sedra.parshiot = [\n\t[ 'Bereshit', 'Bereshis', 'בראשית' ], // 0\n\t[ 'Noach', 0, 'נח' ],\n\t[ 'Lech-Lecha', 0, 'לך-לך' ],\n\t[ 'Vayera', 0, 'וירא' ],\n\t[ 'Chayei Sara', 0, 'חי שרה' ],\n\t[ 'Toldot', 'Toldos', 'תולדות' ],\n\t[ 'Vayetzei', 0, 'ויצא' ],\n\t[ 'Vayishlach', 0, 'וישלח' ],\n\t[ 'Vayeshev', 0, 'וישב' ],\n\t[ 'Miketz', 0, 'מקץ' ],\n\t[ 'Vayigash', 0, 'ויגש' ], // 10\n\t[ 'Vayechi', 0, 'ויחי' ],\n\t[ 'Shemot', 'Shemos', 'שמות' ],\n\t[ 'Vaera', 0, 'וארא' ],\n\t[ 'Bo', 0, 'בא' ],\n\t[ 'Beshalach', 0, 'בשלח' ],\n\t[ 'Yitro', 'Yisro', 'יתרו' ],\n\t[ 'Mishpatim', 0, 'משפטים' ],\n\t[ 'Terumah', 0, 'תרומה' ],\n\t[ 'Tetzaveh', 0, 'תצוה' ],\n\t[ 'Ki Tisa', 'Ki Sisa', 'כי תשא' ], // 20\n\t[ 'Vayakhel', 0, 'ויקהל' ],\n\t[ 'Pekudei', 0, 'פקודי' ],\n\t[ 'Vayikra', 0, 'ויקרא' ],\n\t[ 'Tzav', 0, 'צו' ],\n\t[ 'Shmini', 0, 'שמיני' ],\n\t[ 'Tazria', 0, 'תזריע' ],\n\t[ 'Metzora', 0, 'מצרע' ],\n\t[ 'Achrei Mot', 'Achrei Mos', 'אחרי מות' ],\n\t[ 'Kedoshim', 0, 'קדשים' ],\n\t[ 'Emor', 0, 'אמור' ], // 30\n\t[ 'Behar', 0, 'בהר' ],\n\t[ 'Bechukotai', 'Bechukosai', 'בחקתי' ],\n\t[ 'Bamidbar', 0, 'במדבר' ],\n\t[ 'Nasso', 0, 'נשא' ],\n\t[ 'Beha\\'alotcha', 'Beha\\'aloscha', 'בהעלתך' ],\n\t[ 'Sh\\'lach', 0, 'שלח לך' ],\n\t[ 'Korach', 0, 'קורח' ],\n\t[ 'Chukat', 'Chukas', 'חקת' ],\n\t[ 'Balak', 0, 'בלק' ],\n\t[ 'Pinchas', 0, 'פינחס' ], // 40\n\t[ 'Matot', 'Matos', 'מטות' ],\n\t[ 'Masei', 0, 'מסעי' ],\n\t[ 'Devarim', 0, 'דברים' ],\n\t[ 'Vaetchanan', 'V\\'eschanan', 'ואתחנן' ],\n\t[ 'Eikev', 0, 'עקב' ],\n\t[ 'Re\\'eh', 0, 'ראה' ],\n\t[ 'Shoftim', 0, 'שופטים' ],\n\t[ 'Ki Teitzei', 'Ki Seitzei', 'כי תצא' ],\n\t[ 'Ki Tavo', 'Ki Savo', 'כי תבוא' ],\n\t[ 'Nitzavim', 0, 'נצבים' ], // 50\n\t[ 'Vayeilech', 0, 'וילך' ],\n\t[ 'Ha\\'Azinu', 0, 'האזינו' ]\n];\n\n\n// parsha doubler/undoubler\nfunction D(p) {\n\treturn -p;\n}\n\n// these are wrapped to protect them from [].concat()\nvar RH = [[ 'Rosh Hashana', 0, 'ראש השנה' ]]; //0\nvar YK = [[ 'Yom Kippur', 0, 'יום כיפור' ]];  //1\n\nvar SUKKOT = [[ 'Sukkot', 'Succos', 'סוכות' ]];  //0\nvar CHMSUKOT = [[ 'Chol hamoed Sukkot', 'Chol hamoed Succos', 'חול המועד סוכות' ]];  //0\nvar SHMINI = [[ 'Shmini Atzeret', 'Shmini Atzeres', 'שמיני עצרת' ]];  //0\nvar EOY = [[ 'End-of-Year: Simchat-Torah, Sukkot', 'End-of-Year: Simchas-Torah, Succos', 'סופשנה: סוכות וסמחת תורה' ]];  //0\n\nvar PESACH = [[ 'Pesach', 0, 'פסח' ]]; //25\nvar CHMPESACH = [[ 'Chol hamoed Pesach', 0, 'חול המועד פסח' ]];  //25\nvar PESACH7 = [[ 'Second days of Pesach', 0, 'שביעי של פסח' ]]; //25\n\nvar SHAVUOT = [[ 'Shavuot', 'Shavuos', 'שבועות' ]]; //33\n\n\n\n// The ordinary year types (keviot)\n\n// names are leap/nonleap - day - incomplete/regular/complete - diaspora/Israel\n\nvar types = {\n\n\t/* Hebrew year that starts on Monday, is `incomplete' (Heshvan and\n\t * Kislev each have 29 days), and has Passover start on Tuesday. */\n\t//e.g. 5753\n\t'020' : [51, 52][concat](EOY, range(0, 20), D(21), 23, 24, PESACH, 25,\n\t\tD(26), D(28), 30, D(31), range(33, 40), D(41), range(43, 49), D(50)\n\t),\n\n\t/* Hebrew year that starts on Monday, is `complete' (Heshvan and\n\t * Kislev each have 30 days), and has Passover start on Thursday. */\n\t//e.g. 5756\n\t'0220' : [51, 52][concat](EOY, range(0, 20), D(21), 23, 24, PESACH, 25, D(26), D(28),\n\t\t30, D(31), 33, SHAVUOT, range(34, 37), D(38), 40, D(41), range(43, 49), D(50)\n\t),\n\n\t/* Hebrew year that starts on Thursday, is `regular' (Heshvan has 29\n\t * days and Kislev has 30 days), and has Passover start on Saturday. */\n\t//e.g. 5701\n\t'0510' : [52][concat](YK, EOY, range(0, 20), D(21), 23, 24, PESACH, PESACH,\n\t\t25, D(26), D(28), 30, D(31), range(33, 40), D(41), range(43, 50)\n\t),\n\n\t/* Hebrew year that starts on Thursday, is `regular' (Heshvan has 29\n\t * days and Kislev has 30 days), and has Passover start on Saturday. */\n\t// e.g. 5745\n\t'0511' : [52][concat](YK, EOY, range(0, 20), D(21), 23, 24, PESACH,\n\t\t25, D(26), D(28), range(30, 40), D(41), range(43, 50)\n\t),\n\n\t/* Hebrew year that starts on Thursday, is `complete' (Heshvan and\n\t * Kislev each have 30 days), and has Passover start on Sunday. */\n\t//e.g. 5754\n\t'052' : [52][concat](YK, CHMSUKOT, range(0, 24), PESACH7, 25, D(26),\n\t\tD(28), 30, D(31), range(33, 40), D(41), range(43, 50)\n\t),\n\n\t/* Hebrew year that starts on Saturday, is `incomplete' (Heshvan and Kislev\n\t * each have 29 days), and has Passover start on Sunday. */\n\t//e.g. 5761\n\t'070' : [][concat](RH, 52, SUKKOT, SHMINI, range(0, 20), D(21), 23, 24, PESACH7,\n\t\t25, D(26), D(28), 30, D(31), range(33, 40), D(41), range(43, 50)\n\t),\n\n\n\t/* Hebrew year that starts on Saturday, is `complete' (Heshvan and\n\t * Kislev each have 30 days), and has Passover start on Tuesday. */\n\t//e.g. 5716\n\t'072' : [][concat](RH, 52, SUKKOT, SHMINI, range(0, 20), D(21), 23, 24, CHMPESACH, 25,\n\t\tD(26), D(28), 30, D(31), range(33, 40), D(41), range(43, 49), D(50)\n\t),\n\n\n\t/* --  The leap year types (keviot) -- */\n\t/* Hebrew year that starts on Monday, is `incomplete' (Heshvan and\n\t * Kislev each have 29 days), and has Passover start on Thursday. */\n\t//e.g. 5746\n\t'1200' : [51, 52][concat](CHMSUKOT, range(0, 27), CHMPESACH, range(28, 33),\n\t\tSHAVUOT, range(34, 37), D(38), 40, D(41), range(43, 49), D(50)\n\t),\n\n\t/* Hebrew year that starts on Monday, is `incomplete' (Heshvan and\n\t * Kislev each have 29 days), and has Passover start on Thursday. */\n\t//e.g. 5746\n\t'1201' : [51, 52][concat](CHMSUKOT, range(0, 27), CHMPESACH,\n\t\trange(28, 40), D(41), range(43, 49), D(50)\n\t),\n\n\t/* Hebrew year that starts on Monday, is `complete' (Heshvan and\n\t * Kislev each have 30 days), and has Passover start on Saturday. */\n\t//e.g.5752\n\t'1220' : [51, 52][concat](CHMSUKOT, range(0, 27), PESACH,\n\t\tPESACH, range(28, 40), D(41), range(43, 50)\n\t),\n\n\t/* Hebrew year that starts on Monday, is `complete' (Heshvan and\n\t * Kislev each have 30 days), and has Passover start on Saturday. */\n\t//e.g.5752\n\t'1221' : [51, 52][concat](CHMSUKOT, range(0, 27), PESACH, range(28, 50)),\n\n\t/* Hebrew year that starts on Thursday, is `incomplete' (Heshvan and\n\t * Kislev both have 29 days), and has Passover start on Sunday. */\n\t//e.g. 5768\n\t'150' : [52][concat](YK, CHMSUKOT, range(0, 28), PESACH7, range(29, 50)),\n\n\t/* Hebrew year that starts on Thursday, is `complete' (Heshvan and\n\t * Kislev both have 30 days), and has Passover start on Tuesday. */\n\t//eg. 5771\n\t'152' : [52][concat](YK, CHMSUKOT, range(0, 28), CHMPESACH, range(29, 49), D(50)),\n\n\t/* Hebrew year that starts on Saturday, is `incomplete' (Heshvan and\n\t * Kislev each have 29 days), and has Passover start on Tuesday. */\n\t//e.g.5757\n\t'170' : [][concat](RH, 52, SUKKOT, SHMINI, range(0, 27), CHMPESACH,\n\t\trange(28, 40), D(41), range(43, 49), D(50)\n\t),\n\n\t/* Hebrew year that starts on Saturday, is `complete' (Heshvan and\n\t * Kislev each have 30 days), and has Passover start on Thursday. */\n\t'1720' : [][concat](RH, 52, SUKKOT, SHMINI, range(0, 27), CHMPESACH, range(28, 33),\n\t\tSHAVUOT, range(34, 37), D(38), 40, D(41), range(43, 49), D(50)\n\t)\n};\n\n/* Hebrew year that starts on Monday, is `complete' (Heshvan and\n * Kislev each have 30 days), and has Passover start on Thursday. */\ntypes['0221'] = types['020'];\n\n/* Hebrew year that starts on Tuesday, is `regular' (Heshvan has 29\n * days and Kislev has 30 days), and has Passover start on Thursday. */\n//e.g. 5715\ntypes['0310'] = types['0220'];\n\n/* Hebrew year that starts on Tuesday, is `regular' (Heshvan has 29\n * days and Kislev has 30 days), and has Passover start on Thursday. */\ntypes['0311'] = types['020'];\n\n/* Hebrew year that starts on Tuesday, is `regular' (Heshvan has 29\n * days and Kislev has 30 days), and has Passover start on Saturday. */\n// e.g. 5715\ntypes['1310'] = types['1220'];\n/* Hebrew year that starts on Tuesday, is `regular' (Heshvan has 29\n * days and Kislev has 30 days), and has Passover start on Saturday. */\ntypes['1311'] = types['1221'];\n\n/* Hebrew year that starts on Saturday, is `complete' (Heshvan and\n * Kislev each have 30 days), and has Passover start on Thursday. */\ntypes['1721'] = types['170'];\n\n\nSedra.prototype.getFromHDate = function(hDate) {\n\treturn this.getFromDate(hDate.abs());\n};\n\n// returns an array describing the parsha on the first Saturday on or after absdate\nSedra.prototype.getFromDate = function(absDate) {\n\n\t// find the first saturday on or after today's date\n\tvar absDate = c.day_on_or_before(6, absDate + 6);\n\t\n\tvar weekNum = (absDate - this.first_saturday) / 7;\n\tvar index = this.theSedraArray[weekNum];\n\t\n\tif (undefined == index) {\n\t\treturn (new Sedra(this.year + 1, this.il)).getFromDate(absDate); // must be next year\n\t}\n\tif (typeof index == 'object') {\n\t\t// Shabbat has a chag. Return a description\n\t\treturn [index];\n\t}\n\tif (index >= 0) {\n\t\treturn [parshiot[index]];\n\t}\n\t\n\tindex = D(index); // undouble the parsha\n\treturn [parshiot[index], parshiot[index + 1]];\n};\n\nmodule.exports = Sedra;",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        throw TypeError('Uncaught, unspecified \"error\" event.');\n      }\n      return false;\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      console.trace();\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n"
  ],
  "sourceRoot": ""
}
